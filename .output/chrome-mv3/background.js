var background=(function(){"use strict";function Tt(t){return t==null||typeof t=="function"?{main:t}:t}const yt=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;var Qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Et(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var s=t.default;if(typeof s=="function"){var a=function u(){var p=!1;try{p=this instanceof u}catch{}return p?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(u){var p=Object.getOwnPropertyDescriptor(t,u);Object.defineProperty(a,u,p.get?p:{enumerable:!0,get:function(){return t[u]}})}),a}var G={},ne={},ue={},ae={},Vi;function Le(){if(Vi)return ae;Vi=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.NoSuchLanguageException=ae.AstBuilderException=ae.CompositeParserException=ae.ParserException=ae.GherkinException=void 0;class t extends Error{constructor(o){super(o);const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r}static _create(o,r){const T=r!=null?r.column||0:-1,i=`(${r!=null?r.line||0:-1}:${T}): ${o}`,e=new this(i);return e.location=r,e}}ae.GherkinException=t;class s extends t{static create(o,r,T){const d=new this(`(${r}:${T}): ${o}`);return d.location={line:r,column:T},d}}ae.ParserException=s;class a extends t{static create(o){const r=`Parser errors:
`+o.map(d=>d.message).join(`
`),T=new this(r);return T.errors=o,T}}ae.CompositeParserException=a;class u extends t{static create(o,r){return this._create(o,r)}}ae.AstBuilderException=u;class p extends t{static create(o,r){const T="Language not supported: "+o;return this._create(T,r)}}return ae.NoSuchLanguageException=p,ae}var be={},ki;function _t(){if(ki)return be;ki=1,Object.defineProperty(be,"__esModule",{value:!0}),be.UnexpectedEOFException=be.UnexpectedTokenException=void 0;const t=Le();class s extends t.GherkinException{static create(m,o){const r=`expected: ${o.join(", ")}, got '${m.getTokenValue().trim()}'`,T=u(m);return this._create(r,T)}}be.UnexpectedTokenException=s;class a extends t.GherkinException{static create(m,o){const r=`unexpected end of file, expected: ${o.join(", ")}`,T=u(m);return this._create(r,T)}}be.UnexpectedEOFException=a;function u(p){return p.location&&p.location.line&&p.line&&p.line.indent!==void 0?{line:p.location.line,column:p.line.indent+1}:p.location}return be}var di={},xi;function er(){if(xi)return di;xi=1,Object.defineProperty(di,"__esModule",{value:!0});let t=class{constructor(a,u){this.makeToken=u,this.lineNumber=0,this.lines=a.split(/\r?\n/),this.lines.length>0&&this.lines[this.lines.length-1].trim()===""&&this.lines.pop()}read(){const a=this.lines[this.lineNumber++],u={line:this.lineNumber};return this.makeToken(a,u)}};return di.default=t,di}var je={exports:{}},ci={},ir;function rr(){if(ir)return ci;ir=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.default=s;const t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function s(a){return a.replace(t,"_").length}return ci}var tr=je.exports,sr;function St(){return sr||(sr=1,(function(t,s){var a=tr&&tr.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(s,"__esModule",{value:!0});const u=a(rr());class p{constructor(o,r){this.lineText=o,this.lineNumber=r,this.trimmedLineText=o.replace(/^\s+/g,""),this.isEmpty=this.trimmedLineText.length===0,this.indent=(0,u.default)(o)-(0,u.default)(this.trimmedLineText)}startsWith(o){return this.trimmedLineText.indexOf(o)===0}startsWithTitleKeyword(o){return this.startsWith(o+":")}match(o){return this.trimmedLineText.match(o)}getLineText(o){return o<0||o>this.indent?this.trimmedLineText:this.lineText.substring(o)}getRestTrimmed(o){return this.trimmedLineText.substring(o).trim()}getTableCells(){const o=[];let r=0,T=r+1,d="",i=!0;for(;r<this.trimmedLineText.length;){let e=this.trimmedLineText[r];if(r++,e==="|"){if(i)i=!1;else{const l=d.replace(/^[ \t\v\f\r\u0085\u00A0]*/g,""),c=l.replace(/[ \t\v\f\r\u0085\u00A0]*$/g,""),_=d.length-l.length,f={column:this.indent+T+_,text:c};o.push(f)}d="",T=r+1}else e==="\\"?(e=this.trimmedLineText[r],r+=1,e==="n"?d+=`
`:(e!=="|"&&e!=="\\"&&(d+="\\"),d+=e)):d+=e}return o}}s.default=p,t.exports=p})(je,je.exports)),je.exports}var ar;function Be(){if(ar)return ue;ar=1;var t=ue&&ue.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(ue,"__esModule",{value:!0}),ue.RuleType=ue.TokenType=ue.Token=void 0;const s=Le(),a=_t(),u=t(er()),p=t(St());class m{constructor(i,e){this.line=i,this.location=e,this.isEof=!i}getTokenValue(){return this.isEof?"EOF":this.line.getLineText(-1)}detach(){}}ue.Token=m;var o;(function(d){d[d.None=0]="None",d[d.EOF=1]="EOF",d[d.Empty=2]="Empty",d[d.Comment=3]="Comment",d[d.TagLine=4]="TagLine",d[d.FeatureLine=5]="FeatureLine",d[d.RuleLine=6]="RuleLine",d[d.BackgroundLine=7]="BackgroundLine",d[d.ScenarioLine=8]="ScenarioLine",d[d.ExamplesLine=9]="ExamplesLine",d[d.StepLine=10]="StepLine",d[d.DocStringSeparator=11]="DocStringSeparator",d[d.TableRow=12]="TableRow",d[d.Language=13]="Language",d[d.Other=14]="Other"})(o||(ue.TokenType=o={}));var r;(function(d){d[d.None=0]="None",d[d._EOF=1]="_EOF",d[d._Empty=2]="_Empty",d[d._Comment=3]="_Comment",d[d._TagLine=4]="_TagLine",d[d._FeatureLine=5]="_FeatureLine",d[d._RuleLine=6]="_RuleLine",d[d._BackgroundLine=7]="_BackgroundLine",d[d._ScenarioLine=8]="_ScenarioLine",d[d._ExamplesLine=9]="_ExamplesLine",d[d._StepLine=10]="_StepLine",d[d._DocStringSeparator=11]="_DocStringSeparator",d[d._TableRow=12]="_TableRow",d[d._Language=13]="_Language",d[d._Other=14]="_Other",d[d.GherkinDocument=15]="GherkinDocument",d[d.Feature=16]="Feature",d[d.FeatureHeader=17]="FeatureHeader",d[d.Rule=18]="Rule",d[d.RuleHeader=19]="RuleHeader",d[d.Background=20]="Background",d[d.ScenarioDefinition=21]="ScenarioDefinition",d[d.Scenario=22]="Scenario",d[d.ExamplesDefinition=23]="ExamplesDefinition",d[d.Examples=24]="Examples",d[d.ExamplesTable=25]="ExamplesTable",d[d.Step=26]="Step",d[d.StepArg=27]="StepArg",d[d.DataTable=28]="DataTable",d[d.DocString=29]="DocString",d[d.Tags=30]="Tags",d[d.DescriptionHelper=31]="DescriptionHelper",d[d.Description=32]="Description"})(r||(ue.RuleType=r={}));let T=class{constructor(i,e){this.builder=i,this.tokenMatcher=e,this.stopAtFirstError=!1}parse(i){const e=new u.default(i,(_,f)=>{const h=_==null?null:new p.default(_,f.line);return new m(h,f)});this.builder.reset(),this.tokenMatcher.reset(),this.context={tokenScanner:e,tokenQueue:[],errors:[]},this.startRule(this.context,r.GherkinDocument);let l=0,c=null;for(;c=this.readToken(this.context),l=this.matchToken(l,c,this.context),!c.isEof;);if(this.endRule(this.context),this.context.errors.length>0)throw s.CompositeParserException.create(this.context.errors);return this.getResult()}addError(i,e){if(!i.errors.map(l=>l.message).includes(e.message)&&(i.errors.push(e),i.errors.length>10))throw s.CompositeParserException.create(i.errors)}startRule(i,e){this.handleAstError(i,()=>this.builder.startRule(e))}endRule(i){this.handleAstError(i,()=>this.builder.endRule())}build(i,e){this.handleAstError(i,()=>this.builder.build(e))}getResult(){return this.builder.getResult()}handleAstError(i,e){this.handleExternalError(i,!0,e)}handleExternalError(i,e,l){if(this.stopAtFirstError)return l();try{return l()}catch(c){if(c instanceof s.CompositeParserException)c.errors.forEach(_=>this.addError(i,_));else if(c instanceof s.ParserException||c instanceof s.AstBuilderException||c instanceof a.UnexpectedTokenException||c instanceof s.NoSuchLanguageException)this.addError(i,c);else throw c}return e}readToken(i){return i.tokenQueue.length>0?i.tokenQueue.shift():i.tokenScanner.read()}matchToken(i,e,l){switch(i){case 0:return this.matchTokenAt_0(e,l);case 1:return this.matchTokenAt_1(e,l);case 2:return this.matchTokenAt_2(e,l);case 3:return this.matchTokenAt_3(e,l);case 4:return this.matchTokenAt_4(e,l);case 5:return this.matchTokenAt_5(e,l);case 6:return this.matchTokenAt_6(e,l);case 7:return this.matchTokenAt_7(e,l);case 8:return this.matchTokenAt_8(e,l);case 9:return this.matchTokenAt_9(e,l);case 10:return this.matchTokenAt_10(e,l);case 11:return this.matchTokenAt_11(e,l);case 12:return this.matchTokenAt_12(e,l);case 13:return this.matchTokenAt_13(e,l);case 14:return this.matchTokenAt_14(e,l);case 15:return this.matchTokenAt_15(e,l);case 16:return this.matchTokenAt_16(e,l);case 17:return this.matchTokenAt_17(e,l);case 18:return this.matchTokenAt_18(e,l);case 19:return this.matchTokenAt_19(e,l);case 20:return this.matchTokenAt_20(e,l);case 21:return this.matchTokenAt_21(e,l);case 22:return this.matchTokenAt_22(e,l);case 23:return this.matchTokenAt_23(e,l);case 24:return this.matchTokenAt_24(e,l);case 25:return this.matchTokenAt_25(e,l);case 26:return this.matchTokenAt_26(e,l);case 27:return this.matchTokenAt_27(e,l);case 28:return this.matchTokenAt_28(e,l);case 29:return this.matchTokenAt_29(e,l);case 30:return this.matchTokenAt_30(e,l);case 31:return this.matchTokenAt_31(e,l);case 32:return this.matchTokenAt_32(e,l);case 33:return this.matchTokenAt_33(e,l);case 35:return this.matchTokenAt_35(e,l);case 36:return this.matchTokenAt_36(e,l);case 37:return this.matchTokenAt_37(e,l);case 38:return this.matchTokenAt_38(e,l);case 39:return this.matchTokenAt_39(e,l);case 40:return this.matchTokenAt_40(e,l);case 41:return this.matchTokenAt_41(e,l);case 42:return this.matchTokenAt_42(e,l);default:throw new Error("Unknown state: "+i)}}matchTokenAt_0(i,e){if(this.match_EOF(e,i))return this.build(e,i),34;if(this.match_Language(e,i))return this.startRule(e,r.Feature),this.startRule(e,r.FeatureHeader),this.build(e,i),1;if(this.match_TagLine(e,i))return this.startRule(e,r.Feature),this.startRule(e,r.FeatureHeader),this.startRule(e,r.Tags),this.build(e,i),2;if(this.match_FeatureLine(e,i))return this.startRule(e,r.Feature),this.startRule(e,r.FeatureHeader),this.build(e,i),3;if(this.match_Comment(e,i))return this.build(e,i),0;if(this.match_Empty(e,i))return this.build(e,i),0;i.detach();const l=["#EOF","#Language","#TagLine","#FeatureLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),0}matchTokenAt_1(i,e){if(this.match_TagLine(e,i))return this.startRule(e,r.Tags),this.build(e,i),2;if(this.match_FeatureLine(e,i))return this.build(e,i),3;if(this.match_Comment(e,i))return this.build(e,i),1;if(this.match_Empty(e,i))return this.build(e,i),1;i.detach();const l=["#TagLine","#FeatureLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),1}matchTokenAt_2(i,e){if(this.match_TagLine(e,i))return this.build(e,i),2;if(this.match_FeatureLine(e,i))return this.endRule(e),this.build(e,i),3;if(this.match_Comment(e,i))return this.build(e,i),2;if(this.match_Empty(e,i))return this.build(e,i),2;i.detach();const l=["#TagLine","#FeatureLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),2}matchTokenAt_3(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),3;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),4;if(this.match_BackgroundLine(e,i))return this.endRule(e),this.startRule(e,r.Background),this.build(e,i),5;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),4;i.detach();const l=["#EOF","#Empty","#Comment","#BackgroundLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),3}matchTokenAt_4(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),4;if(this.match_BackgroundLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Background),this.build(e,i),5;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),4;i.detach();const l=["#EOF","#Comment","#BackgroundLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),4}matchTokenAt_5(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),5;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),6;if(this.match_StepLine(e,i))return this.startRule(e,r.Step),this.build(e,i),7;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),6;i.detach();const l=["#EOF","#Empty","#Comment","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),5}matchTokenAt_6(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),6;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),7;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),6;i.detach();const l=["#EOF","#Comment","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),6}matchTokenAt_7(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.startRule(e,r.DataTable),this.build(e,i),8;if(this.match_DocStringSeparator(e,i))return this.startRule(e,r.DocString),this.build(e,i),41;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),7;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),7;if(this.match_Empty(e,i))return this.build(e,i),7;i.detach();const l=["#EOF","#TableRow","#DocStringSeparator","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),7}matchTokenAt_8(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.build(e,i),8;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),7;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),8;if(this.match_Empty(e,i))return this.build(e,i),8;i.detach();const l=["#EOF","#TableRow","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),8}matchTokenAt_9(i,e){if(this.match_TagLine(e,i))return this.build(e,i),9;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_Comment(e,i))return this.build(e,i),9;if(this.match_Empty(e,i))return this.build(e,i),9;i.detach();const l=["#TagLine","#ScenarioLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),9}matchTokenAt_10(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),10;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),11;if(this.match_StepLine(e,i))return this.startRule(e,r.Step),this.build(e,i),12;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),11;i.detach();const l=["#EOF","#Empty","#Comment","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),10}matchTokenAt_11(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),11;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),12;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),11;i.detach();const l=["#EOF","#Comment","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),11}matchTokenAt_12(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.startRule(e,r.DataTable),this.build(e,i),13;if(this.match_DocStringSeparator(e,i))return this.startRule(e,r.DocString),this.build(e,i),39;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),12;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),12;if(this.match_Empty(e,i))return this.build(e,i),12;i.detach();const l=["#EOF","#TableRow","#DocStringSeparator","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),12}matchTokenAt_13(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.build(e,i),13;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),12;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),13;if(this.match_Empty(e,i))return this.build(e,i),13;i.detach();const l=["#EOF","#TableRow","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),13}matchTokenAt_14(i,e){if(this.match_TagLine(e,i))return this.build(e,i),14;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_Comment(e,i))return this.build(e,i),14;if(this.match_Empty(e,i))return this.build(e,i),14;i.detach();const l=["#TagLine","#ExamplesLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),14}matchTokenAt_15(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),15;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),16;if(this.match_TableRow(e,i))return this.startRule(e,r.ExamplesTable),this.build(e,i),17;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),16;i.detach();const l=["#EOF","#Empty","#Comment","#TableRow","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),15}matchTokenAt_16(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),16;if(this.match_TableRow(e,i))return this.endRule(e),this.startRule(e,r.ExamplesTable),this.build(e,i),17;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),16;i.detach();const l=["#EOF","#Comment","#TableRow","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),16}matchTokenAt_17(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.build(e,i),17;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),17;if(this.match_Empty(e,i))return this.build(e,i),17;i.detach();const l=["#EOF","#TableRow","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),17}matchTokenAt_18(i,e){if(this.match_TagLine(e,i))return this.build(e,i),18;if(this.match_RuleLine(e,i))return this.endRule(e),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),18;if(this.match_Empty(e,i))return this.build(e,i),18;i.detach();const l=["#TagLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),18}matchTokenAt_19(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),19;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),20;if(this.match_BackgroundLine(e,i))return this.endRule(e),this.startRule(e,r.Background),this.build(e,i),21;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),20;i.detach();const l=["#EOF","#Empty","#Comment","#BackgroundLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),19}matchTokenAt_20(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),20;if(this.match_BackgroundLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Background),this.build(e,i),21;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),20;i.detach();const l=["#EOF","#Comment","#BackgroundLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),20}matchTokenAt_21(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),21;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),22;if(this.match_StepLine(e,i))return this.startRule(e,r.Step),this.build(e,i),23;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),22;i.detach();const l=["#EOF","#Empty","#Comment","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),21}matchTokenAt_22(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),22;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),23;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),22;i.detach();const l=["#EOF","#Comment","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),22}matchTokenAt_23(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.startRule(e,r.DataTable),this.build(e,i),24;if(this.match_DocStringSeparator(e,i))return this.startRule(e,r.DocString),this.build(e,i),37;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),23;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),23;if(this.match_Empty(e,i))return this.build(e,i),23;i.detach();const l=["#EOF","#TableRow","#DocStringSeparator","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),23}matchTokenAt_24(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.build(e,i),24;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),23;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),24;if(this.match_Empty(e,i))return this.build(e,i),24;i.detach();const l=["#EOF","#TableRow","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),24}matchTokenAt_25(i,e){if(this.match_TagLine(e,i))return this.build(e,i),25;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_Comment(e,i))return this.build(e,i),25;if(this.match_Empty(e,i))return this.build(e,i),25;i.detach();const l=["#TagLine","#ScenarioLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),25}matchTokenAt_26(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),26;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),27;if(this.match_StepLine(e,i))return this.startRule(e,r.Step),this.build(e,i),28;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),27;i.detach();const l=["#EOF","#Empty","#Comment","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),26}matchTokenAt_27(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),27;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),28;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),27;i.detach();const l=["#EOF","#Comment","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),27}matchTokenAt_28(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.startRule(e,r.DataTable),this.build(e,i),29;if(this.match_DocStringSeparator(e,i))return this.startRule(e,r.DocString),this.build(e,i),35;if(this.match_StepLine(e,i))return this.endRule(e),this.startRule(e,r.Step),this.build(e,i),28;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),28;if(this.match_Empty(e,i))return this.build(e,i),28;i.detach();const l=["#EOF","#TableRow","#DocStringSeparator","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),28}matchTokenAt_29(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.build(e,i),29;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),28;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),29;if(this.match_Empty(e,i))return this.build(e,i),29;i.detach();const l=["#EOF","#TableRow","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),29}matchTokenAt_30(i,e){if(this.match_TagLine(e,i))return this.build(e,i),30;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_Comment(e,i))return this.build(e,i),30;if(this.match_Empty(e,i))return this.build(e,i),30;i.detach();const l=["#TagLine","#ExamplesLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),30}matchTokenAt_31(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Empty(e,i))return this.build(e,i),31;if(this.match_Comment(e,i))return this.startRule(e,r.Description),this.build(e,i),32;if(this.match_TableRow(e,i))return this.startRule(e,r.ExamplesTable),this.build(e,i),33;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.startRule(e,r.Description),this.build(e,i),32;i.detach();const l=["#EOF","#Empty","#Comment","#TableRow","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),31}matchTokenAt_32(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_Comment(e,i))return this.build(e,i),32;if(this.match_TableRow(e,i))return this.endRule(e),this.startRule(e,r.ExamplesTable),this.build(e,i),33;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Other(e,i))return this.build(e,i),32;i.detach();const l=["#EOF","#Comment","#TableRow","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),32}matchTokenAt_33(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_TableRow(e,i))return this.build(e,i),33;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),33;if(this.match_Empty(e,i))return this.build(e,i),33;i.detach();const l=["#EOF","#TableRow","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),33}matchTokenAt_35(i,e){if(this.match_DocStringSeparator(e,i))return this.build(e,i),36;if(this.match_Other(e,i))return this.build(e,i),35;i.detach();const l=["#DocStringSeparator","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),35}matchTokenAt_36(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),28;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),30;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),31;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),36;if(this.match_Empty(e,i))return this.build(e,i),36;i.detach();const l=["#EOF","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),36}matchTokenAt_37(i,e){if(this.match_DocStringSeparator(e,i))return this.build(e,i),38;if(this.match_Other(e,i))return this.build(e,i),37;i.detach();const l=["#DocStringSeparator","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),37}matchTokenAt_38(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),23;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),25;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),26;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),38;if(this.match_Empty(e,i))return this.build(e,i),38;i.detach();const l=["#EOF","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),38}matchTokenAt_39(i,e){if(this.match_DocStringSeparator(e,i))return this.build(e,i),40;if(this.match_Other(e,i))return this.build(e,i),39;i.detach();const l=["#DocStringSeparator","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),39}matchTokenAt_40(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),12;if(this.match_TagLine(e,i)&&this.lookahead_1(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Tags),this.build(e,i),14;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ExamplesLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.ExamplesDefinition),this.startRule(e,r.Examples),this.build(e,i),15;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),40;if(this.match_Empty(e,i))return this.build(e,i),40;i.detach();const l=["#EOF","#StepLine","#TagLine","#ExamplesLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),40}matchTokenAt_41(i,e){if(this.match_DocStringSeparator(e,i))return this.build(e,i),42;if(this.match_Other(e,i))return this.build(e,i),41;i.detach();const l=["#DocStringSeparator","#Other"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),41}matchTokenAt_42(i,e){if(this.match_EOF(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.endRule(e),this.build(e,i),34;if(this.match_StepLine(e,i))return this.endRule(e),this.endRule(e),this.startRule(e,r.Step),this.build(e,i),7;if(this.match_TagLine(e,i)&&this.lookahead_0(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Tags),this.build(e,i),9;if(this.match_TagLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.startRule(e,r.Tags),this.build(e,i),18;if(this.match_ScenarioLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.ScenarioDefinition),this.startRule(e,r.Scenario),this.build(e,i),10;if(this.match_RuleLine(e,i))return this.endRule(e),this.endRule(e),this.endRule(e),this.startRule(e,r.Rule),this.startRule(e,r.RuleHeader),this.build(e,i),19;if(this.match_Comment(e,i))return this.build(e,i),42;if(this.match_Empty(e,i))return this.build(e,i),42;i.detach();const l=["#EOF","#StepLine","#TagLine","#ScenarioLine","#RuleLine","#Comment","#Empty"],c=i.isEof?a.UnexpectedEOFException.create(i,l):a.UnexpectedTokenException.create(i,l);if(this.stopAtFirstError)throw c;return this.addError(e,c),42}match_EOF(i,e){return this.handleExternalError(i,!1,()=>this.tokenMatcher.match_EOF(e))}match_Empty(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_Empty(e))}match_Comment(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_Comment(e))}match_TagLine(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_TagLine(e))}match_FeatureLine(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_FeatureLine(e))}match_RuleLine(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_RuleLine(e))}match_BackgroundLine(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_BackgroundLine(e))}match_ScenarioLine(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_ScenarioLine(e))}match_ExamplesLine(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_ExamplesLine(e))}match_StepLine(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_StepLine(e))}match_DocStringSeparator(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_DocStringSeparator(e))}match_TableRow(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_TableRow(e))}match_Language(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_Language(e))}match_Other(i,e){return e.isEof?!1:this.handleExternalError(i,!1,()=>this.tokenMatcher.match_Other(e))}lookahead_0(i,e){e.detach();let l;const c=[];let _=!1;do if(l=this.readToken(this.context),l.detach(),c.push(l),this.match_ScenarioLine(i,l)){_=!0;break}while(this.match_Empty(i,l)||this.match_Comment(i,l)||this.match_TagLine(i,l));return i.tokenQueue=i.tokenQueue.concat(c),_}lookahead_1(i,e){e.detach();let l;const c=[];let _=!1;do if(l=this.readToken(this.context),l.detach(),c.push(l),this.match_ExamplesLine(i,l)){_=!0;break}while(this.match_Empty(i,l)||this.match_Comment(i,l)||this.match_TagLine(i,l));return i.tokenQueue=i.tokenQueue.concat(c),_}};return ue.default=T,ue}var le={};const Mi={af:{and:["* ","En "],background:["Agtergrond"],but:["* ","Maar "],examples:["Voorbeelde"],feature:["Funksie","Besigheid Behoefte","Vermo"],given:["* ","Gegewe "],name:"Afrikaans",native:"Afrikaans",rule:["Rel","Reel"],scenario:["Voorbeeld","Situasie"],scenarioOutline:["Situasie Uiteensetting"],then:["* ","Dan "],when:["* ","Wanneer "]},am:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:["",""],given:["* "," "],name:"Armenian",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[" "],then:["* "," "],when:["* "," "," "]},an:{and:["* ","Y ","E "],background:["Antecedents"],but:["* ","Pero "],examples:["Eixemplos"],feature:["Caracteristica"],given:["* ","Dau ","Dada ","Daus ","Dadas "],name:"Aragonese",native:"Aragons",rule:["Rule"],scenario:["Eixemplo","Caso"],scenarioOutline:["Esquema del caso"],then:["* ","Alavez ","Allora ","Antonces "],when:["* ","Cuan "]},ar:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:[""],given:["* "," "],name:"Arabic",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[" "],then:["* "," "," "],when:["* "," "," "]},ast:{and:["* ","Y ","Ya "],background:["Antecedentes"],but:["* ","Peru "],examples:["Exemplos"],feature:["Carauterstica"],given:["* ","Du ","Dada ","Daos ","Daes "],name:"Asturian",native:"asturianu",rule:["Rule"],scenario:["Exemplo","Casu"],scenarioOutline:["Esbozu del casu"],then:["* ","Ents "],when:["* ","Cuando "]},az:{and:["* ","V ","Hm "],background:["Kemi","Kontekst"],but:["* ","Amma ","Ancaq "],examples:["Nmunlr"],feature:["zllik"],given:["* ","Tutaq ki ","Verilir "],name:"Azerbaijani",native:"Azrbaycanca",rule:["Rule"],scenario:["Nmun","Ssenari"],scenarioOutline:["Ssenarinin strukturu"],then:["* ","O halda "],when:["* ","gr ","N vaxt ki "]},be:{and:["* ","I "," "," "],background:[""],but:["* "," "," "],examples:[""],feature:["",""],given:["* "," "," "],name:"Belarusian",native:"",rule:[""],scenario:["","C"],scenarioOutline:[" "," "],then:["* "," "],when:["* "," "]},bg:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:[""],given:["* "," "],name:"Bulgarian",native:"",rule:[""],scenario:["",""],scenarioOutline:["  "],then:["* "," "],when:["* "," "]},bm:{and:["* ","Dan "],background:["Latar Belakang"],but:["* ","Tetapi ","Tapi "],examples:["Contoh"],feature:["Fungsi"],given:["* ","Diberi ","Bagi "],name:"Malay",native:"Bahasa Melayu",rule:["Rule"],scenario:["Senario","Situasi","Keadaan"],scenarioOutline:["Kerangka Senario","Kerangka Situasi","Kerangka Keadaan","Garis Panduan Senario"],then:["* ","Maka ","Kemudian "],when:["* ","Apabila "]},bs:{and:["* ","I ","A "],background:["Pozadina"],but:["* ","Ali "],examples:["Primjeri"],feature:["Karakteristika"],given:["* ","Dato "],name:"Bosnian",native:"Bosanski",rule:["Rule"],scenario:["Primjer","Scenariju","Scenario"],scenarioOutline:["Scenariju-obris","Scenario-outline"],then:["* ","Zatim "],when:["* ","Kada "]},ca:{and:["* ","I "],background:["Rerefons","Antecedents"],but:["* ","Per "],examples:["Exemples"],feature:["Caracterstica","Funcionalitat"],given:["* ","Donat ","Donada ","Ats ","Atesa "],name:"Catalan",native:"catal",rule:["Rule"],scenario:["Exemple","Escenari"],scenarioOutline:["Esquema de l'escenari"],then:["* ","Aleshores ","Cal "],when:["* ","Quan "]},cs:{and:["* ","A tak ","A "],background:["Pozad","Kontext"],but:["* ","Ale "],examples:["Pklady"],feature:["Poadavek"],given:["* ","Pokud ","Za pedpokladu "],name:"Czech",native:"esky",rule:["Pravidlo"],scenario:["Pklad","Scn"],scenarioOutline:["Nrt Scne","Osnova scne"],then:["* ","Pak "],when:["* ","Kdy "]},"cy-GB":{and:["* ","A "],background:["Cefndir"],but:["* ","Ond "],examples:["Enghreifftiau"],feature:["Arwedd"],given:["* ","Anrhegedig a "],name:"Welsh",native:"Cymraeg",rule:["Rule"],scenario:["Enghraifft","Scenario"],scenarioOutline:["Scenario Amlinellol"],then:["* ","Yna "],when:["* ","Pryd "]},da:{and:["* ","Og "],background:["Baggrund"],but:["* ","Men "],examples:["Eksempler"],feature:["Egenskab"],given:["* ","Givet "],name:"Danish",native:"dansk",rule:["Regel"],scenario:["Eksempel","Scenarie"],scenarioOutline:["Abstrakt Scenario"],then:["* ","S "],when:["* ","Nr "]},de:{and:["* ","Und "],background:["Grundlage","Hintergrund","Voraussetzungen","Vorbedingungen"],but:["* ","Aber "],examples:["Beispiele"],feature:["Funktionalitt","Funktion"],given:["* ","Angenommen ","Gegeben sei ","Gegeben seien "],name:"German",native:"Deutsch",rule:["Rule","Regel"],scenario:["Beispiel","Szenario"],scenarioOutline:["Szenariogrundriss","Szenarien"],then:["* ","Dann "],when:["* ","Wenn "]},el:{and:["* "," "],background:[""],but:["* "," "],examples:["",""],feature:["",""],given:["* "," "],name:"Greek",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[" "," "],then:["* "," "],when:["* "," "]},em:{and:["* ",""],background:[""],but:["* ",""],examples:[""],feature:[""],given:["* ",""],name:"Emoji",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[""],then:["* ",""],when:["* ",""]},en:{and:["* ","And "],background:["Background"],but:["* ","But "],examples:["Examples","Scenarios"],feature:["Feature","Business Need","Ability"],given:["* ","Given "],name:"English",native:"English",rule:["Rule"],scenario:["Example","Scenario"],scenarioOutline:["Scenario Outline","Scenario Template"],then:["* ","Then "],when:["* ","When "]},"en-Scouse":{and:["* ","An "],background:["Dis is what went down"],but:["* ","Buh "],examples:["Examples"],feature:["Feature"],given:["* ","Givun ","Youse know when youse got "],name:"Scouse",native:"Scouse",rule:["Rule"],scenario:["The thing of it is"],scenarioOutline:["Wharrimean is"],then:["* ","Dun ","Den youse gotta "],when:["* ","Wun ","Youse know like when "]},"en-au":{and:["* ","Too right "],background:["First off"],but:["* ","Yeah nah "],examples:["You'll wanna"],feature:["Pretty much"],given:["* ","Y'know "],name:"Australian",native:"Australian",rule:["Rule"],scenario:["Awww, look mate"],scenarioOutline:["Reckon it's like"],then:["* ","But at the end of the day I reckon "],when:["* ","It's just unbelievable "]},"en-lol":{and:["* ","AN "],background:["B4"],but:["* ","BUT "],examples:["EXAMPLZ"],feature:["OH HAI"],given:["* ","I CAN HAZ "],name:"LOLCAT",native:"LOLCAT",rule:["Rule"],scenario:["MISHUN"],scenarioOutline:["MISHUN SRSLY"],then:["* ","DEN "],when:["* ","WEN "]},"en-old":{and:["* ","Ond ","7 "],background:["Aer","r"],but:["* ","Ac "],examples:["Se the","Se e","Se e"],feature:["Hwaet","Hwt"],given:["* ","Thurh ","urh ","urh "],name:"Old English",native:"Englisc",rule:["Rule"],scenario:["Swa"],scenarioOutline:["Swa hwaer swa","Swa hwr swa"],then:["* ","Tha ","a ","a ","Tha the ","a e ","a e "],when:["* ","Bsealf ","Bsealfa ","Bsealfe ","Ciricw ","Ciricwe ","Ciricwa "]},"en-pirate":{and:["* ","Aye "],background:["Yo-ho-ho"],but:["* ","Avast! "],examples:["Dead men tell no tales"],feature:["Ahoy matey!"],given:["* ","Gangway! "],name:"Pirate",native:"Pirate",rule:["Rule"],scenario:["Heave to"],scenarioOutline:["Shiver me timbers"],then:["* ","Let go and haul "],when:["* ","Blimey! "]},"en-tx":{and:["Come hell or high water "],background:["Lemme tell y'all a story"],but:["Well now hold on, I'll you what "],examples:["Now that's a story longer than a cattle drive in July"],feature:["This aint my first rodeo","All gussied up"],given:["Fixin' to ","All git out "],name:"Texas",native:"Texas",rule:["Rule "],scenario:["All hat and no cattle"],scenarioOutline:["Serious as a snake bite","Busy as a hound in flea season"],then:["Theres no tree but bears some fruit "],when:["Quick out of the chute "]},eo:{and:["* ","Kaj "],background:["Fono"],but:["* ","Sed "],examples:["Ekzemploj"],feature:["Trajto"],given:["* ","Donitao ","Komence "],name:"Esperanto",native:"Esperanto",rule:["Regulo"],scenario:["Ekzemplo","Scenaro","Kazo"],scenarioOutline:["Konturo de la scenaro","Skizo","Kazo-skizo"],then:["* ","Do "],when:["* ","Se "]},es:{and:["* ","Y ","E "],background:["Antecedentes"],but:["* ","Pero "],examples:["Ejemplos"],feature:["Caracterstica","Necesidad del negocio","Requisito"],given:["* ","Dado ","Dada ","Dados ","Dadas "],name:"Spanish",native:"espaol",rule:["Regla","Regla de negocio"],scenario:["Ejemplo","Escenario"],scenarioOutline:["Esquema del escenario"],then:["* ","Entonces "],when:["* ","Cuando "]},et:{and:["* ","Ja "],background:["Taust"],but:["* ","Kuid "],examples:["Juhtumid"],feature:["Omadus"],given:["* ","Eeldades "],name:"Estonian",native:"eesti keel",rule:["Reegel"],scenario:["Juhtum","Stsenaarium"],scenarioOutline:["Raamjuhtum","Raamstsenaarium"],then:["* ","Siis "],when:["* ","Kui "]},fa:{and:["* "," "],background:[""],but:["* "," "],examples:[" "],feature:[""],given:["* ","  "],name:"Persian",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[" "],then:["* "," "],when:["* "," "]},fi:{and:["* ","Ja "],background:["Tausta"],but:["* ","Mutta "],examples:["Tapaukset"],feature:["Ominaisuus"],given:["* ","Oletetaan "],name:"Finnish",native:"suomi",rule:["Rule"],scenario:["Tapaus"],scenarioOutline:["Tapausaihio"],then:["* ","Niin "],when:["* ","Kun "]},fr:{and:["* ","Et que ","Et qu'","Et "],background:["Contexte"],but:["* ","Mais que ","Mais qu'","Mais "],examples:["Exemples"],feature:["Fonctionnalit"],given:["* ","Soit ","Sachant que ","Sachant qu'","Sachant ","Etant donn que ","Etant donn qu'","Etant donn ","Etant donne ","Etant donns ","Etant donnes ","tant donn que ","tant donn qu'","tant donn ","tant donne ","tant donns ","tant donnes "],name:"French",native:"franais",rule:["Rgle"],scenario:["Exemple","Scnario"],scenarioOutline:["Plan du scnario","Plan du Scnario"],then:["* ","Alors ","Donc "],when:["* ","Quand ","Lorsque ","Lorsqu'"]},ga:{and:["* ","Agus "],background:["Clra"],but:["* ","Ach "],examples:["Sampla"],feature:["Gn"],given:["* ","Cuir i gcs go ","Cuir i gcs nach ","Cuir i gcs gur ","Cuir i gcs nr "],name:"Irish",native:"Gaeilge",rule:["Riail"],scenario:["Sampla","Cs"],scenarioOutline:["Cs Achomair"],then:["* ","Ansin "],when:["* ","Nuair a ","Nuair nach ","Nuair ba ","Nuair nr "]},gj:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:[""," ",""],given:["* ","  "],name:"Gujarati",native:"",rule:[""],scenario:["",""],scenarioOutline:[" "," "],then:["* "," "],when:["* "," "]},gl:{and:["* ","E "],background:["Contexto"],but:["* ","Mais ","Pero "],examples:["Exemplos"],feature:["Caracterstica"],given:["* ","Dado ","Dada ","Dados ","Dadas "],name:"Galician",native:"galego",rule:["Rule"],scenario:["Exemplo","Escenario"],scenarioOutline:["Esbozo do escenario"],then:["* ","Entn ","Logo "],when:["* ","Cando "]},he:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:[""],given:["* "," "],name:"Hebrew",native:"",rule:[""],scenario:["",""],scenarioOutline:[" "],then:["* "," "," "],when:["* "," "]},hi:{and:["* "," "," "],background:[""],but:["* "," "," "," "],examples:[""],feature:[" "],given:["* "," "," "," "],name:"Hindi",native:"",rule:[""],scenario:[""],scenarioOutline:[" "],then:["* "," "," "],when:["* "," "," "]},hr:{and:["* ","I "],background:["Pozadina"],but:["* ","Ali "],examples:["Primjeri","Scenariji"],feature:["Osobina","Mogunost","Mogucnost"],given:["* ","Zadan ","Zadani ","Zadano ","Ukoliko "],name:"Croatian",native:"hrvatski",rule:["Rule"],scenario:["Primjer","Scenarij"],scenarioOutline:["Skica","Koncept"],then:["* ","Onda "],when:["* ","Kada ","Kad "]},ht:{and:["* ","Ak ","Epi ","E "],background:["Kontks","Istorik"],but:["* ","Men "],examples:["Egzanp"],feature:["Karakteristik","Mak","Fonksyonalite"],given:["* ","Sipoze ","Sipoze ke ","Sipoze Ke "],name:"Creole",native:"kreyl",rule:["Rule"],scenario:["Senaryo"],scenarioOutline:["Plan senaryo","Plan Senaryo","Senaryo deskripsyon","Senaryo Deskripsyon","Dyagram senaryo","Dyagram Senaryo"],then:["* ","L sa a ","Le sa a "],when:["* ","L ","Le "]},hu:{and:["* ","s "],background:["Httr"],but:["* ","De "],examples:["Pldk"],feature:["Jellemz"],given:["* ","Amennyiben ","Adott "],name:"Hungarian",native:"magyar",rule:["Szably"],scenario:["Plda","Forgatknyv"],scenarioOutline:["Forgatknyv vzlat"],then:["* ","Akkor "],when:["* ","Majd ","Ha ","Amikor "]},id:{and:["* ","Dan "],background:["Dasar","Latar Belakang"],but:["* ","Tapi ","Tetapi "],examples:["Contoh","Misal"],feature:["Fitur"],given:["* ","Dengan ","Diketahui ","Diasumsikan ","Bila ","Jika "],name:"Indonesian",native:"Bahasa Indonesia",rule:["Rule","Aturan"],scenario:["Skenario"],scenarioOutline:["Skenario konsep","Garis-Besar Skenario"],then:["* ","Maka ","Kemudian "],when:["* ","Ketika "]},is:{and:["* ","Og "],background:["Bakgrunnur"],but:["* ","En "],examples:["Dmi","Atburarsir"],feature:["Eiginleiki"],given:["* ","Ef "],name:"Icelandic",native:"slenska",rule:["Rule"],scenario:["Atburars"],scenarioOutline:["Lsing Atburarsar","Lsing Dma"],then:["* "," "],when:["* ","egar "]},it:{and:["* ","E ","Ed "],background:["Contesto"],but:["* ","Ma "],examples:["Esempi"],feature:["Funzionalit","Esigenza di Business","Abilit"],given:["* ","Dato ","Data ","Dati ","Date "],name:"Italian",native:"italiano",rule:["Regola"],scenario:["Esempio","Scenario"],scenarioOutline:["Schema dello scenario"],then:["* ","Allora "],when:["* ","Quando "]},ja:{and:["* ","",""],background:[""],but:["* ","","","",""],examples:["",""],feature:["",""],given:["* ",""],name:"Japanese",native:"",rule:[""],scenario:[""],scenarioOutline:["","","",""],then:["* ",""],when:["* ",""]},jv:{and:["* ","Lan "],background:["Dasar"],but:["* ","Tapi ","Nanging ","Ananging "],examples:["Conto","Contone"],feature:["Fitur"],given:["* ","Nalika ","Nalikaning "],name:"Javanese",native:"Basa Jawa",rule:["Rule"],scenario:["Skenario"],scenarioOutline:["Konsep skenario"],then:["* ","Njuk ","Banjur "],when:["* ","Manawa ","Menawa "]},ka:{and:["* "," "," "],background:[""],but:["* "," "," "],examples:[""],feature:["",""],given:["* "," "," "," "],name:"Georgian",native:"",rule:[""],scenario:["","","",""],scenarioOutline:[" "," ","",""],then:["* "," "],when:["* "," "," ","  "," "]},kn:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:[""],given:["* "," "],name:"Kannada",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[""],then:["* "," "],when:["* "," "]},ko:{and:["* "," "],background:[""],but:["* "," "," "],examples:[""],feature:[""],given:["* "," "," "],name:"Korean",native:"",rule:["Rule"],scenario:[""],scenarioOutline:[" "],then:["* "," "],when:["* "," "," "]},lt:{and:["* ","Ir "],background:["Kontekstas"],but:["* ","Bet "],examples:["Pavyzdiai","Scenarijai","Variantai"],feature:["Savyb"],given:["* ","Duota "],name:"Lithuanian",native:"lietuvi kalba",rule:["Rule"],scenario:["Pavyzdys","Scenarijus"],scenarioOutline:["Scenarijaus ablonas"],then:["* ","Tada "],when:["* ","Kai "]},lu:{and:["* ","an ","a "],background:["Hannergrond"],but:["* ","awer ","m "],examples:["Beispiller"],feature:["Funktionalitit"],given:["* ","ugeholl "],name:"Luxemburgish",native:"Ltzebuergesch",rule:["Rule"],scenario:["Beispill","Szenario"],scenarioOutline:["Plang vum Szenario"],then:["* ","dann "],when:["* ","wann "]},lv:{and:["* ","Un "],background:["Konteksts","Situcija"],but:["* ","Bet "],examples:["Piemri","Paraugs"],feature:["Funkcionalitte","Fa"],given:["* ","Kad "],name:"Latvian",native:"latvieu",rule:["Rule"],scenario:["Piemrs","Scenrijs"],scenarioOutline:["Scenrijs pc parauga"],then:["* ","Tad "],when:["* ","Ja "]},"mk-Cyrl":{and:["* "," "],background:["",""],but:["* "," "],examples:["",""],feature:[""," ",""],given:["* "," "," "],name:"Macedonian",native:"",rule:["Rule"],scenario:["",""," "],scenarioOutline:["  ","",""],then:["* "," "],when:["* "," "]},"mk-Latn":{and:["* ","I "],background:["Kontekst","Sodrzhina"],but:["* ","No "],examples:["Primeri","Scenaria"],feature:["Funkcionalnost","Biznis potreba","Mozhnost"],given:["* ","Dadeno ","Dadena "],name:"Macedonian (Latin)",native:"Makedonski (Latinica)",rule:["Rule"],scenario:["Scenario","Na primer"],scenarioOutline:["Pregled na scenarija","Skica","Koncept"],then:["* ","Togash "],when:["* ","Koga "]},mn:{and:["* "," "," "],background:[""],but:["* "," "," "],examples:[""],feature:["",""],given:["* ","  "," "],name:"Mongolian",native:"",rule:["Rule"],scenario:[""],scenarioOutline:[" "],then:["* "," ","  "],when:["* "," "]},ne:{and:["* "," "," "],background:[""],but:["* "," "],examples:["",""],feature:["",""],given:["* "," "," "," "],name:"Nepali",native:"",rule:[""],scenario:[""],scenarioOutline:[" "],then:["* "," "," "],when:["* "," "]},nl:{and:["* ","En "],background:["Achtergrond"],but:["* ","Maar "],examples:["Voorbeelden"],feature:["Functionaliteit"],given:["* ","Gegeven ","Stel "],name:"Dutch",native:"Nederlands",rule:["Regel"],scenario:["Voorbeeld","Scenario"],scenarioOutline:["Abstract Scenario"],then:["* ","Dan "],when:["* ","Als ","Wanneer "]},no:{and:["* ","Og "],background:["Bakgrunn"],but:["* ","Men "],examples:["Eksempler"],feature:["Egenskap"],given:["* ","Gitt "],name:"Norwegian",native:"norsk",rule:["Regel"],scenario:["Eksempel","Scenario"],scenarioOutline:["Scenariomal","Abstrakt Scenario"],then:["* ","S "],when:["* ","Nr "]},pa:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:["",""," "],given:["* "," ","  "],name:"Panjabi",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[" ","  "],then:["* "," "],when:["* "," "]},pl:{and:["* ","Oraz ","I "],background:["Zaoenia"],but:["* ","Ale "],examples:["Przykady"],feature:["Waciwo","Funkcja","Aspekt","Potrzeba biznesowa"],given:["* ","Zakadajc ","Majc ","Zakadajc, e "],name:"Polish",native:"polski",rule:["Zasada","Regua"],scenario:["Przykad","Scenariusz"],scenarioOutline:["Szablon scenariusza"],then:["* ","Wtedy "],when:["* ","Jeeli ","Jeli ","Gdy ","Kiedy "]},pt:{and:["* ","E "],background:["Contexto","Cenrio de Fundo","Cenario de Fundo","Fundo"],but:["* ","Mas "],examples:["Exemplos","Cenrios","Cenarios"],feature:["Funcionalidade","Caracterstica","Caracteristica"],given:["* ","Dado ","Dada ","Dados ","Dadas "],name:"Portuguese",native:"portugus",rule:["Regra"],scenario:["Exemplo","Cenrio","Cenario"],scenarioOutline:["Esquema do Cenrio","Esquema do Cenario","Delineao do Cenrio","Delineacao do Cenario"],then:["* ","Ento ","Entao "],when:["* ","Quando "]},ro:{and:["* ","Si ","i ","i "],background:["Context"],but:["* ","Dar "],examples:["Exemple"],feature:["Functionalitate","Funcionalitate","Funcionalitate"],given:["* ","Date fiind ","Dat fiind ","Dat fiind","Dati fiind ","Dai fiind ","Dai fiind "],name:"Romanian",native:"romn",rule:["Rule"],scenario:["Exemplu","Scenariu"],scenarioOutline:["Structura scenariu","Structur scenariu"],then:["* ","Atunci "],when:["* ","Cand ","Cnd "]},ru:{and:["* "," ","   "," "],background:["",""],but:["* "," "," "," "],examples:["",""],feature:["","","","",""],given:["* "," "," "," "],name:"Russian",native:"",rule:[""],scenario:["",""],scenarioOutline:[" "," "],then:["* "," "," "," "],when:["* "," "," "]},sk:{and:["* ","A ","A tie ","A taktie ","A zrove "],background:["Pozadie"],but:["* ","Ale "],examples:["Prklady"],feature:["Poiadavka","Funkcia","Vlastnos"],given:["* ","Pokia ","Za predpokladu "],name:"Slovak",native:"Slovensky",rule:["Rule"],scenario:["Prklad","Scenr"],scenarioOutline:["Nrt Scenru","Nrt Scenra","Osnova Scenra"],then:["* ","Tak ","Potom "],when:["* ","Ke ","Ak "]},sl:{and:["In ","Ter "],background:["Kontekst","Osnova","Ozadje"],but:["Toda ","Ampak ","Vendar "],examples:["Primeri","Scenariji"],feature:["Funkcionalnost","Funkcija","Monosti","Moznosti","Lastnost","Znailnost"],given:["Dano ","Podano ","Zaradi ","Privzeto "],name:"Slovenian",native:"Slovenski",rule:["Rule"],scenario:["Primer","Scenarij"],scenarioOutline:["Struktura scenarija","Skica","Koncept","Oris scenarija","Osnutek"],then:["Nato ","Potem ","Takrat "],when:["Ko ","Ce ","e ","Kadar "]},"sr-Cyrl":{and:["* "," "],background:["","",""],but:["* "," "],examples:["",""],feature:["","",""],given:["* ","  ","  ","  "],name:"Serbian",native:"",rule:[""],scenario:["",""],scenarioOutline:[" ","",""],then:["* "," "],when:["* "," "," "]},"sr-Latn":{and:["* ","I "],background:["Kontekst","Osnova","Pozadina"],but:["* ","Ali "],examples:["Primeri","Scenariji"],feature:["Funkcionalnost","Mogunost","Mogucnost","Osobina"],given:["* ","Za dato ","Za date ","Za dati "],name:"Serbian (Latin)",native:"Srpski (Latinica)",rule:["Pravilo"],scenario:["Scenario","Primer"],scenarioOutline:["Struktura scenarija","Skica","Koncept"],then:["* ","Onda "],when:["* ","Kada ","Kad "]},sv:{and:["* ","Och "],background:["Bakgrund"],but:["* ","Men "],examples:["Exempel"],feature:["Egenskap"],given:["* ","Givet "],name:"Swedish",native:"Svenska",rule:["Regel"],scenario:["Scenario"],scenarioOutline:["Abstrakt Scenario","Scenariomall"],then:["* ","S "],when:["* ","Nr "]},ta:{and:["* "," "," "],background:[""],but:["* "," "],examples:["","",""],feature:[""," ",""],given:["* "," "],name:"Tamil",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[" "," "],then:["* "," "],when:["* "," "]},th:{and:["* "," "],background:[""],but:["* "," "],examples:["",""],feature:["","",""],given:["* "," "],name:"Thai",native:"",rule:["Rule"],scenario:[""],scenarioOutline:["",""],then:["* "," "],when:["* "," "]},te:{and:["* "," "],background:[""],but:["* "," "],examples:[""],feature:[""],given:["* "," "],name:"Telugu",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[""],then:["* "," "],when:["* ","  "]},tlh:{and:["* ","'ej ","latlh "],background:["mo'"],but:["* ","'ach ","'a "],examples:["ghantoH","lutmey"],feature:["Qap","Qu'meH 'ut","perbogh","poQbogh malja'","laH"],given:["* ","ghu' noblu' ","DaH ghu' bejlu' "],name:"Klingon",native:"tlhIngan",rule:["Rule"],scenario:["lut"],scenarioOutline:["lut chovnatlh"],then:["* ","vaj "],when:["* ","qaSDI' "]},tr:{and:["* ","Ve "],background:["Gemi"],but:["* ","Fakat ","Ama "],examples:["rnekler"],feature:["zellik"],given:["* ","Diyelim ki "],name:"Turkish",native:"Trke",rule:["Kural"],scenario:["rnek","Senaryo"],scenarioOutline:["Senaryo tasla"],then:["* ","O zaman "],when:["* ","Eer ki "]},tt:{and:["* "," "," "],background:[""],but:["* "," "," "],examples:["",""],feature:["",""],given:["* "," "],name:"Tatar",native:"",rule:["Rule"],scenario:[""],scenarioOutline:[" "],then:["* "," "],when:["* "," "]},uk:{and:["* "," ","  "," "],background:[""],but:["* "," "],examples:[""],feature:[""],given:["* "," ",",  "," "," "],name:"Ukrainian",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:[" "],then:["* "," "," "],when:["* "," "," "]},ur:{and:["* "," "],background:[" "],but:["* "," "],examples:[""],feature:["","  ",""],given:["* "," "," ","  "],name:"Urdu",native:"",rule:["Rule"],scenario:[""],scenarioOutline:["   "],then:["* "," "," "],when:["* "," "]},uz:{and:["* "," "],background:[""],but:["* "," "," "," "],examples:[""],feature:[""],given:["* ","Belgilangan "],name:"Uzbek",native:"",rule:["Rule"],scenario:[""],scenarioOutline:[" "],then:["* "," "],when:["* "," "]},vi:{and:["* ","V "],background:["Bi cnh"],but:["* ","Nhng "],examples:["D liu"],feature:["Tnh nng"],given:["* ","Bit ","Cho "],name:"Vietnamese",native:"Ting Vit",rule:["Quy tc"],scenario:["Tnh hung","Kch bn"],scenarioOutline:["Khung tnh hung","Khung kch bn"],then:["* ","Th "],when:["* ","Khi "]},"zh-CN":{and:["* ","","",""],background:[""],but:["* ",""],examples:[""],feature:[""],given:["* ","","",""],name:"Chinese simplified",native:"",rule:["Rule",""],scenario:["",""],scenarioOutline:["",""],then:["* ",""],when:["* ",""]},ml:{and:["* ",""],background:[""],but:["* ",""],examples:[""],feature:[""],given:["* ",""],name:"Malayalam",native:"",rule:[""],scenario:[""],scenarioOutline:[" "],then:["* ",""],when:[""]},"zh-TW":{and:["* ","","",""],background:[""],but:["* ",""],examples:[""],feature:[""],given:["* ","","",""],name:"Chinese traditional",native:"",rule:["Rule"],scenario:["",""],scenarioOutline:["",""],then:["* ",""],when:["* ",""]},mr:{and:["* "," "," "],background:[""],but:["* "," "," "],examples:[""],feature:["",""],given:["* ","","  "],name:"Marathi",native:"",rule:[""],scenario:[""],scenarioOutline:[" "],then:["* "," "," "],when:["* "," "]},amh:{and:["* "," "],background:[" ",""," "],but:["* "," "],examples:["",""],feature:[""," "," "],given:["* "," "],name:"Amharic",native:"",rule:[""],scenario:["",""],scenarioOutline:[" "," "],then:["* "," "],when:["* "," "]}};var oe={},_e={},nr;function ur(){if(nr)return _e;nr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.millisecondsSinceEpochToTimestamp=u,_e.millisecondsToDuration=p,_e.timestampToMillisecondsSinceEpoch=m,_e.durationToMilliseconds=o,_e.addDurations=r;var t=1e3,s=1e6,a=1e9;function u(i){return T(i)}function p(i){return T(i)}function m(i){var e=i.seconds,l=i.nanos;return d(e,l)}function o(i){var e=i.seconds,l=i.nanos;return d(e,l)}function r(i,e){var l=+i.seconds+ +e.seconds,c=i.nanos+e.nanos;return c>=a&&(l+=1,c-=a),{seconds:l,nanos:c}}function T(i){var e=Math.floor(i/t),l=Math.floor(i%t*s);return{seconds:e,nanos:l}}function d(i,e){var l=+i*t,c=e/s;return l+c}return _e}var Ke={},lr;function vt(){if(lr)return Ke;lr=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.uuid=t,Ke.incrementing=s;function t(){return function(){return crypto.randomUUID()}}function s(){var a=0;return function(){return(a++).toString()}}return Ke}var fi={},E={},B;(function(t){t[t.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",t[t.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",t[t.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"})(B||(B={}));var bt=(function(){function t(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return t.prototype.addTypeMetadata=function(s){this._typeMetadatas.has(s.target)||this._typeMetadatas.set(s.target,new Map),this._typeMetadatas.get(s.target).set(s.propertyName,s)},t.prototype.addTransformMetadata=function(s){this._transformMetadatas.has(s.target)||this._transformMetadatas.set(s.target,new Map),this._transformMetadatas.get(s.target).has(s.propertyName)||this._transformMetadatas.get(s.target).set(s.propertyName,[]),this._transformMetadatas.get(s.target).get(s.propertyName).push(s)},t.prototype.addExposeMetadata=function(s){this._exposeMetadatas.has(s.target)||this._exposeMetadatas.set(s.target,new Map),this._exposeMetadatas.get(s.target).set(s.propertyName,s)},t.prototype.addExcludeMetadata=function(s){this._excludeMetadatas.has(s.target)||this._excludeMetadatas.set(s.target,new Map),this._excludeMetadatas.get(s.target).set(s.propertyName,s)},t.prototype.findTransformMetadatas=function(s,a,u){return this.findMetadatas(this._transformMetadatas,s,a).filter(function(p){return!p.options||p.options.toClassOnly===!0&&p.options.toPlainOnly===!0?!0:p.options.toClassOnly===!0?u===B.CLASS_TO_CLASS||u===B.PLAIN_TO_CLASS:p.options.toPlainOnly===!0?u===B.CLASS_TO_PLAIN:!0})},t.prototype.findExcludeMetadata=function(s,a){return this.findMetadata(this._excludeMetadatas,s,a)},t.prototype.findExposeMetadata=function(s,a){return this.findMetadata(this._exposeMetadatas,s,a)},t.prototype.findExposeMetadataByCustomName=function(s,a){return this.getExposedMetadatas(s).find(function(u){return u.options&&u.options.name===a})},t.prototype.findTypeMetadata=function(s,a){return this.findMetadata(this._typeMetadatas,s,a)},t.prototype.getStrategy=function(s){var a=this._excludeMetadatas.get(s),u=a&&a.get(void 0),p=this._exposeMetadatas.get(s),m=p&&p.get(void 0);return u&&m||!u&&!m?"none":u?"excludeAll":"exposeAll"},t.prototype.getExposedMetadatas=function(s){return this.getMetadata(this._exposeMetadatas,s)},t.prototype.getExcludedMetadatas=function(s){return this.getMetadata(this._excludeMetadatas,s)},t.prototype.getExposedProperties=function(s,a){return this.getExposedMetadatas(s).filter(function(u){return!u.options||u.options.toClassOnly===!0&&u.options.toPlainOnly===!0?!0:u.options.toClassOnly===!0?a===B.CLASS_TO_CLASS||a===B.PLAIN_TO_CLASS:u.options.toPlainOnly===!0?a===B.CLASS_TO_PLAIN:!0}).map(function(u){return u.propertyName})},t.prototype.getExcludedProperties=function(s,a){return this.getExcludedMetadatas(s).filter(function(u){return!u.options||u.options.toClassOnly===!0&&u.options.toPlainOnly===!0?!0:u.options.toClassOnly===!0?a===B.CLASS_TO_CLASS||a===B.PLAIN_TO_CLASS:u.options.toPlainOnly===!0?a===B.CLASS_TO_PLAIN:!0}).map(function(u){return u.propertyName})},t.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},t.prototype.getMetadata=function(s,a){var u=s.get(a),p;u&&(p=Array.from(u.values()).filter(function(e){return e.propertyName!==void 0}));for(var m=[],o=0,r=this.getAncestors(a);o<r.length;o++){var T=r[o],d=s.get(T);if(d){var i=Array.from(d.values()).filter(function(e){return e.propertyName!==void 0});m.push.apply(m,i)}}return m.concat(p||[])},t.prototype.findMetadata=function(s,a,u){var p=s.get(a);if(p){var m=p.get(u);if(m)return m}for(var o=0,r=this.getAncestors(a);o<r.length;o++){var T=r[o],d=s.get(T);if(d){var i=d.get(u);if(i)return i}}},t.prototype.findMetadatas=function(s,a,u){var p=s.get(a),m;p&&(m=p.get(u));for(var o=[],r=0,T=this.getAncestors(a);r<T.length;r++){var d=T[r],i=s.get(d);i&&i.has(u)&&o.push.apply(o,i.get(u))}return o.slice().reverse().concat((m||[]).slice().reverse())},t.prototype.getAncestors=function(s){if(!s)return[];if(!this._ancestorsMap.has(s)){for(var a=[],u=Object.getPrototypeOf(s.prototype.constructor);typeof u.prototype<"u";u=Object.getPrototypeOf(u.prototype.constructor))a.push(u);this._ancestorsMap.set(s,a)}return this._ancestorsMap.get(s)},t})(),V=new bt;function wt(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}function Ot(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var hr=function(t,s,a){if(a||arguments.length===2)for(var u=0,p=s.length,m;u<p;u++)(m||!(u in s))&&(m||(m=Array.prototype.slice.call(s,0,u)),m[u]=s[u]);return t.concat(m||Array.prototype.slice.call(s))};function Lt(t){var s=new t;return!(s instanceof Set)&&!("push"in s)?[]:s}var Ae=(function(){function t(s,a){this.transformationType=s,this.options=a,this.recursionStack=new Set}return t.prototype.transform=function(s,a,u,p,m,o){var r=this;if(o===void 0&&(o=0),Array.isArray(a)||a instanceof Set){var T=p&&this.transformationType===B.PLAIN_TO_CLASS?Lt(p):[];return a.forEach(function(h,R){var y=s?s[R]:void 0;if(!r.options.enableCircularCheck||!r.isCircular(h)){var v=void 0;if(typeof u!="function"&&u&&u.options&&u.options.discriminator&&u.options.discriminator.property&&u.options.discriminator.subTypes){if(r.transformationType===B.PLAIN_TO_CLASS){v=u.options.discriminator.subTypes.find(function(F){return F.name===h[u.options.discriminator.property]});var M={newObject:T,object:h,property:void 0},A=u.typeFunction(M);v===void 0?v=A:v=v.value,u.options.keepDiscriminatorProperty||delete h[u.options.discriminator.property]}r.transformationType===B.CLASS_TO_CLASS&&(v=h.constructor),r.transformationType===B.CLASS_TO_PLAIN&&(h[u.options.discriminator.property]=u.options.discriminator.subTypes.find(function(F){return F.value===h.constructor}).name)}else v=u;var U=r.transform(y,h,v,void 0,h instanceof Map,o+1);T instanceof Set?T.add(U):T.push(U)}else r.transformationType===B.CLASS_TO_CLASS&&(T instanceof Set?T.add(h):T.push(h))}),T}else{if(u===String&&!m)return a==null?a:String(a);if(u===Number&&!m)return a==null?a:Number(a);if(u===Boolean&&!m)return a==null?a:!!a;if((u===Date||a instanceof Date)&&!m)return a instanceof Date?new Date(a.valueOf()):a==null?a:new Date(a);if(wt().Buffer&&(u===Buffer||a instanceof Buffer)&&!m)return a==null?a:Buffer.from(a);if(Ot(a)&&!m)return new Promise(function(h,R){a.then(function(y){return h(r.transform(void 0,y,u,void 0,void 0,o+1))},R)});if(!m&&a!==null&&typeof a=="object"&&typeof a.then=="function")return a;if(typeof a=="object"&&a!==null){!u&&a.constructor!==Object&&(!Array.isArray(a)&&a.constructor===Array||(u=a.constructor)),!u&&s&&(u=s.constructor),this.options.enableCircularCheck&&this.recursionStack.add(a);var d=this.getKeys(u,a,m),i=s||{};!s&&(this.transformationType===B.PLAIN_TO_CLASS||this.transformationType===B.CLASS_TO_CLASS)&&(m?i=new Map:u?i=new u:i={});for(var e=function(h){if(h==="__proto__"||h==="constructor")return"continue";var R=h,y=h,v=h;if(!l.options.ignoreDecorators&&u){if(l.transformationType===B.PLAIN_TO_CLASS){var M=V.findExposeMetadataByCustomName(u,h);M&&(v=M.propertyName,y=M.propertyName)}else if(l.transformationType===B.CLASS_TO_PLAIN||l.transformationType===B.CLASS_TO_CLASS){var M=V.findExposeMetadata(u,h);M&&M.options&&M.options.name&&(y=M.options.name)}}var A=void 0;l.transformationType===B.PLAIN_TO_CLASS?A=a[R]:a instanceof Map?A=a.get(R):a[R]instanceof Function?A=a[R]():A=a[R];var U=void 0,F=A instanceof Map;if(u&&m)U=u;else if(u){var H=V.findTypeMetadata(u,v);if(H){var x={newObject:i,object:a,property:v},ge=H.typeFunction?H.typeFunction(x):H.reflectedType;H.options&&H.options.discriminator&&H.options.discriminator.property&&H.options.discriminator.subTypes?a[R]instanceof Array?U=H:(l.transformationType===B.PLAIN_TO_CLASS&&(U=H.options.discriminator.subTypes.find(function(te){if(A&&A instanceof Object&&H.options.discriminator.property in A)return te.name===A[H.options.discriminator.property]}),U===void 0?U=ge:U=U.value,H.options.keepDiscriminatorProperty||A&&A instanceof Object&&H.options.discriminator.property in A&&delete A[H.options.discriminator.property]),l.transformationType===B.CLASS_TO_CLASS&&(U=A.constructor),l.transformationType===B.CLASS_TO_PLAIN&&A&&(A[H.options.discriminator.property]=H.options.discriminator.subTypes.find(function(te){return te.value===A.constructor}).name)):U=ge,F=F||H.reflectedType===Map}else if(l.options.targetMaps)l.options.targetMaps.filter(function(te){return te.target===u&&!!te.properties[v]}).forEach(function(te){return U=te.properties[v]});else if(l.options.enableImplicitConversion&&l.transformationType===B.PLAIN_TO_CLASS){var ee=Reflect.getMetadata("design:type",u.prototype,v);ee&&(U=ee)}}var ie=Array.isArray(a[R])?l.getReflectedType(u,v):void 0,Te=s?s[R]:void 0;if(i.constructor.prototype){var we=Object.getOwnPropertyDescriptor(i.constructor.prototype,y);if((l.transformationType===B.PLAIN_TO_CLASS||l.transformationType===B.CLASS_TO_CLASS)&&(we&&!we.set||i[y]instanceof Function))return"continue"}if(!l.options.enableCircularCheck||!l.isCircular(A)){var Re=l.transformationType===B.PLAIN_TO_CLASS?y:h,q=void 0;l.transformationType===B.CLASS_TO_PLAIN?(q=a[Re],q=l.applyCustomTransformations(q,u,Re,a,l.transformationType),q=a[Re]===q?A:q,q=l.transform(Te,q,U,ie,F,o+1)):A===void 0&&l.options.exposeDefaultValues?q=i[y]:(q=l.transform(Te,A,U,ie,F,o+1),q=l.applyCustomTransformations(q,u,Re,a,l.transformationType)),(q!==void 0||l.options.exposeUnsetFields)&&(i instanceof Map?i.set(y,q):i[y]=q)}else if(l.transformationType===B.CLASS_TO_CLASS){var q=A;q=l.applyCustomTransformations(q,u,h,a,l.transformationType),(q!==void 0||l.options.exposeUnsetFields)&&(i instanceof Map?i.set(y,q):i[y]=q)}},l=this,c=0,_=d;c<_.length;c++){var f=_[c];e(f)}return this.options.enableCircularCheck&&this.recursionStack.delete(a),i}else return a}},t.prototype.applyCustomTransformations=function(s,a,u,p,m){var o=this,r=V.findTransformMetadatas(a,u,this.transformationType);return this.options.version!==void 0&&(r=r.filter(function(T){return T.options?o.checkVersion(T.options.since,T.options.until):!0})),this.options.groups&&this.options.groups.length?r=r.filter(function(T){return T.options?o.checkGroups(T.options.groups):!0}):r=r.filter(function(T){return!T.options||!T.options.groups||!T.options.groups.length}),r.forEach(function(T){s=T.transformFn({value:s,key:u,obj:p,type:m,options:o.options})}),s},t.prototype.isCircular=function(s){return this.recursionStack.has(s)},t.prototype.getReflectedType=function(s,a){if(s){var u=V.findTypeMetadata(s,a);return u?u.reflectedType:void 0}},t.prototype.getKeys=function(s,a,u){var p=this,m=V.getStrategy(s);m==="none"&&(m=this.options.strategy||"exposeAll");var o=[];if((m==="exposeAll"||u)&&(a instanceof Map?o=Array.from(a.keys()):o=Object.keys(a)),u)return o;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&s){var r=V.getExposedProperties(s,this.transformationType),T=V.getExcludedProperties(s,this.transformationType);o=hr(hr([],r,!0),T,!0)}if(!this.options.ignoreDecorators&&s){var r=V.getExposedProperties(s,this.transformationType);this.transformationType===B.PLAIN_TO_CLASS&&(r=r.map(function(e){var l=V.findExposeMetadata(s,e);return l&&l.options&&l.options.name?l.options.name:e})),this.options.excludeExtraneousValues?o=r:o=o.concat(r);var d=V.getExcludedProperties(s,this.transformationType);d.length>0&&(o=o.filter(function(e){return!d.includes(e)})),this.options.version!==void 0&&(o=o.filter(function(e){var l=V.findExposeMetadata(s,e);return!l||!l.options?!0:p.checkVersion(l.options.since,l.options.until)})),this.options.groups&&this.options.groups.length?o=o.filter(function(e){var l=V.findExposeMetadata(s,e);return!l||!l.options?!0:p.checkGroups(l.options.groups)}):o=o.filter(function(e){var l=V.findExposeMetadata(s,e);return!l||!l.options||!l.options.groups||!l.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(o=o.filter(function(i){return p.options.excludePrefixes.every(function(e){return i.substr(0,e.length)!==e})})),o=o.filter(function(i,e,l){return l.indexOf(i)===e}),o},t.prototype.checkVersion=function(s,a){var u=!0;return u&&s&&(u=this.options.version>=s),u&&a&&(u=this.options.version<a),u},t.prototype.checkGroups=function(s){return s?this.options.groups.some(function(a){return s.includes(a)}):!0},t})(),De={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},re=function(){return re=Object.assign||function(t){for(var s,a=1,u=arguments.length;a<u;a++){s=arguments[a];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},re.apply(this,arguments)},He=(function(){function t(){}return t.prototype.instanceToPlain=function(s,a){var u=new Ae(B.CLASS_TO_PLAIN,re(re({},De),a));return u.transform(void 0,s,void 0,void 0,void 0,void 0)},t.prototype.classToPlainFromExist=function(s,a,u){var p=new Ae(B.CLASS_TO_PLAIN,re(re({},De),u));return p.transform(a,s,void 0,void 0,void 0,void 0)},t.prototype.plainToInstance=function(s,a,u){var p=new Ae(B.PLAIN_TO_CLASS,re(re({},De),u));return p.transform(void 0,a,s,void 0,void 0,void 0)},t.prototype.plainToClassFromExist=function(s,a,u){var p=new Ae(B.PLAIN_TO_CLASS,re(re({},De),u));return p.transform(s,a,void 0,void 0,void 0,void 0)},t.prototype.instanceToInstance=function(s,a){var u=new Ae(B.CLASS_TO_CLASS,re(re({},De),a));return u.transform(void 0,s,void 0,void 0,void 0,void 0)},t.prototype.classToClassFromExist=function(s,a,u){var p=new Ae(B.CLASS_TO_CLASS,re(re({},De),u));return p.transform(a,s,void 0,void 0,void 0,void 0)},t.prototype.serialize=function(s,a){return JSON.stringify(this.instanceToPlain(s,a))},t.prototype.deserialize=function(s,a,u){var p=JSON.parse(a);return this.plainToInstance(s,p,u)},t.prototype.deserializeArray=function(s,a,u){var p=JSON.parse(a);return this.plainToInstance(s,p,u)},t})();function At(t){return t===void 0&&(t={}),function(s,a){V.addExcludeMetadata({target:s instanceof Function?s:s.constructor,propertyName:a,options:t})}}function Dt(t){return t===void 0&&(t={}),function(s,a){V.addExposeMetadata({target:s instanceof Function?s:s.constructor,propertyName:a,options:t})}}function Ct(t){return function(s,a,u){var p=new He,m=u.value;u.value=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var T=m.apply(this,o),d=!!T&&(typeof T=="object"||typeof T=="function")&&typeof T.then=="function";return d?T.then(function(i){return p.instanceToInstance(i,t)}):p.instanceToInstance(T,t)}}}function Mt(t){return function(s,a,u){var p=new He,m=u.value;u.value=function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var T=m.apply(this,o),d=!!T&&(typeof T=="object"||typeof T=="function")&&typeof T.then=="function";return d?T.then(function(i){return p.instanceToPlain(i,t)}):p.instanceToPlain(T,t)}}}function Pt(t,s){return function(a,u,p){var m=new He,o=p.value;p.value=function(){for(var r=[],T=0;T<arguments.length;T++)r[T]=arguments[T];var d=o.apply(this,r),i=!!d&&(typeof d=="object"||typeof d=="function")&&typeof d.then=="function";return i?d.then(function(e){return m.plainToInstance(t,e,s)}):m.plainToInstance(t,d,s)}}}function Ft(t,s){return s===void 0&&(s={}),function(a,u){V.addTransformMetadata({target:a.constructor,propertyName:u,transformFn:t,options:s})}}function b(t,s){return s===void 0&&(s={}),function(a,u){var p=Reflect.getMetadata("design:type",a,u);V.addTypeMetadata({target:a.constructor,propertyName:u,reflectedType:p,typeFunction:t,options:s})}}var de=new He;function Nt(t,s){return de.instanceToPlain(t,s)}function It(t,s){return de.instanceToPlain(t,s)}function Ut(t,s,a){return de.classToPlainFromExist(t,s,a)}function jt(t,s,a){return de.plainToInstance(t,s,a)}function Bt(t,s,a){return de.plainToInstance(t,s,a)}function Kt(t,s,a){return de.plainToClassFromExist(t,s,a)}function Ht(t,s){return de.instanceToInstance(t,s)}function Gt(t,s,a){return de.classToClassFromExist(t,s,a)}function qt(t,s){return de.serialize(t,s)}function $t(t,s,a){return de.deserialize(t,s,a)}function zt(t,s,a){return de.deserializeArray(t,s,a)}const or=Et(Object.freeze(Object.defineProperty({__proto__:null,ClassTransformer:He,Exclude:At,Expose:Dt,Transform:Ft,TransformInstanceToInstance:Ct,TransformInstanceToPlain:Mt,TransformPlainToInstance:Pt,get TransformationType(){return B},Type:b,classToClassFromExist:Gt,classToPlain:Nt,classToPlainFromExist:Ut,deserialize:$t,deserializeArray:zt,instanceToInstance:Ht,instanceToPlain:It,plainToClass:jt,plainToClassFromExist:Kt,plainToInstance:Bt,serialize:qt},Symbol.toStringTag,{value:"Module"})));var dr={};var cr;function fr(){if(cr)return dr;cr=1;var t;return(function(s){(function(a){var u=typeof globalThis=="object"?globalThis:typeof Qi=="object"?Qi:typeof self=="object"?self:typeof this=="object"?this:T(),p=m(s);typeof u.Reflect<"u"&&(p=m(u.Reflect,p)),a(p,u),typeof u.Reflect>"u"&&(u.Reflect=s);function m(d,i){return function(e,l){Object.defineProperty(d,e,{configurable:!0,writable:!0,value:l}),i&&i(e,l)}}function o(){try{return Function("return this;")()}catch{}}function r(){try{return(0,eval)("(function() { return this; })()")}catch{}}function T(){return o()||r()}})(function(a,u){var p=Object.prototype.hasOwnProperty,m=typeof Symbol=="function",o=m&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",r=m&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",T=typeof Object.create=="function",d={__proto__:[]}instanceof Array,i=!T&&!d,e={create:T?function(){return Ue(Object.create(null))}:d?function(){return Ue({__proto__:null})}:function(){return Ue({})},has:i?function(g,n){return p.call(g,n)}:function(g,n){return n in g},get:i?function(g,n){return p.call(g,n)?g[n]:void 0}:function(g,n){return g[n]}},l=Object.getPrototypeOf(Function),c=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ci(),_=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:hi(),f=typeof WeakMap=="function"?WeakMap:oi(),h=m?Symbol.for("@reflect-metadata:registry"):void 0,R=Y(),y=Di(R);function v(g,n,S,O){if(I(S)){if(!ii(g))throw new TypeError;if(!ri(n))throw new TypeError;return Te(g,n)}else{if(!ii(g))throw new TypeError;if(!X(n))throw new TypeError;if(!X(O)&&!I(O)&&!ye(O))throw new TypeError;return ye(O)&&(O=void 0),S=se(S),we(g,n,S,O)}}a("decorate",v);function M(g,n){function S(O,N){if(!X(O))throw new TypeError;if(!I(N)&&!Li(N))throw new TypeError;Qe(g,n,O,N)}return S}a("metadata",M);function A(g,n,S,O){if(!X(S))throw new TypeError;return I(O)||(O=se(O)),Qe(g,n,S,O)}a("defineMetadata",A);function U(g,n,S){if(!X(n))throw new TypeError;return I(S)||(S=se(S)),Re(g,n,S)}a("hasMetadata",U);function F(g,n,S){if(!X(n))throw new TypeError;return I(S)||(S=se(S)),q(g,n,S)}a("hasOwnMetadata",F);function H(g,n,S){if(!X(n))throw new TypeError;return I(S)||(S=se(S)),te(g,n,S)}a("getMetadata",H);function x(g,n,S){if(!X(n))throw new TypeError;return I(S)||(S=se(S)),Ye(g,n,S)}a("getOwnMetadata",x);function ge(g,n){if(!X(g))throw new TypeError;return I(n)||(n=se(n)),Ve(g,n)}a("getMetadataKeys",ge);function ee(g,n){if(!X(g))throw new TypeError;return I(n)||(n=se(n)),ke(g,n)}a("getOwnMetadataKeys",ee);function ie(g,n,S){if(!X(n))throw new TypeError;if(I(S)||(S=se(S)),!X(n))throw new TypeError;I(S)||(S=se(S));var O=ve(n,S,!1);return I(O)?!1:O.OrdinaryDeleteMetadata(g,n,S)}a("deleteMetadata",ie);function Te(g,n){for(var S=g.length-1;S>=0;--S){var O=g[S],N=O(n);if(!I(N)&&!ye(N)){if(!ri(N))throw new TypeError;n=N}}return n}function we(g,n,S,O){for(var N=g.length-1;N>=0;--N){var J=g[N],$=J(n,S,O);if(!I($)&&!ye($)){if(!X($))throw new TypeError;O=$}}return O}function Re(g,n,S){var O=q(g,n,S);if(O)return!0;var N=Ee(n);return ye(N)?!1:Re(g,N,S)}function q(g,n,S){var O=ve(n,S,!1);return I(O)?!1:ei(O.OrdinaryHasOwnMetadata(g,n,S))}function te(g,n,S){var O=q(g,n,S);if(O)return Ye(g,n,S);var N=Ee(n);if(!ye(N))return te(g,N,S)}function Ye(g,n,S){var O=ve(n,S,!1);if(!I(O))return O.OrdinaryGetOwnMetadata(g,n,S)}function Qe(g,n,S,O){var N=ve(S,O,!0);N.OrdinaryDefineOwnMetadata(g,n,S,O)}function Ve(g,n){var S=ke(g,n),O=Ee(g);if(O===null)return S;var N=Ve(O,n);if(N.length<=0)return S;if(S.length<=0)return N;for(var J=new _,$=[],j=0,L=S;j<L.length;j++){var D=L[j],C=J.has(D);C||(J.add(D),$.push(D))}for(var P=0,K=N;P<K.length;P++){var D=K[P],C=J.has(D);C||(J.add(D),$.push(D))}return $}function ke(g,n){var S=ve(g,n,!1);return S?S.OrdinaryOwnMetadataKeys(g,n):[]}function Ne(g){if(g===null)return 1;switch(typeof g){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return g===null?1:6;default:return 6}}function I(g){return g===void 0}function ye(g){return g===null}function bi(g){return typeof g=="symbol"}function X(g){return typeof g=="object"?g!==null:typeof g=="function"}function xe(g,n){switch(Ne(g)){case 0:return g;case 1:return g;case 2:return g;case 3:return g;case 4:return g;case 5:return g}var S="string",O=ti(g,o);if(O!==void 0){var N=O.call(g,S);if(X(N))throw new TypeError;return N}return wi(g)}function wi(g,n){var S,O;{var N=g.toString;if(Oe(N)){var O=N.call(g);if(!X(O))return O}var S=g.valueOf;if(Oe(S)){var O=S.call(g);if(!X(O))return O}}throw new TypeError}function ei(g){return!!g}function Oi(g){return""+g}function se(g){var n=xe(g);return bi(n)?n:Oi(n)}function ii(g){return Array.isArray?Array.isArray(g):g instanceof Object?g instanceof Array:Object.prototype.toString.call(g)==="[object Array]"}function Oe(g){return typeof g=="function"}function ri(g){return typeof g=="function"}function Li(g){switch(Ne(g)){case 3:return!0;case 4:return!0;default:return!1}}function Ie(g,n){return g===n||g!==g&&n!==n}function ti(g,n){var S=g[n];if(S!=null){if(!Oe(S))throw new TypeError;return S}}function si(g){var n=ti(g,r);if(!Oe(n))throw new TypeError;var S=n.call(g);if(!X(S))throw new TypeError;return S}function ai(g){return g.value}function ni(g){var n=g.next();return n.done?!1:n}function ui(g){var n=g.return;n&&n.call(g)}function Ee(g){var n=Object.getPrototypeOf(g);if(typeof g!="function"||g===l||n!==l)return n;var S=g.prototype,O=S&&Object.getPrototypeOf(S);if(O==null||O===Object.prototype)return n;var N=O.constructor;return typeof N!="function"||N===g?n:N}function Ai(){var g;!I(h)&&typeof u.Reflect<"u"&&!(h in u.Reflect)&&typeof u.Reflect.defineMetadata=="function"&&(g=li(u.Reflect));var n,S,O,N=new f,J={registerProvider:$,getProvider:L,setProvider:C};return J;function $(P){if(!Object.isExtensible(J))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case g===P:break;case I(n):n=P;break;case n===P:break;case I(S):S=P;break;case S===P:break;default:O===void 0&&(O=new _),O.add(P);break}}function j(P,K){if(!I(n)){if(n.isProviderFor(P,K))return n;if(!I(S)){if(S.isProviderFor(P,K))return n;if(!I(O))for(var W=si(O);;){var Q=ni(W);if(!Q)return;var ce=ai(Q);if(ce.isProviderFor(P,K))return ui(W),ce}}}if(!I(g)&&g.isProviderFor(P,K))return g}function L(P,K){var W=N.get(P),Q;return I(W)||(Q=W.get(K)),I(Q)&&(Q=j(P,K),I(Q)||(I(W)&&(W=new c,N.set(P,W)),W.set(K,Q))),Q}function D(P){if(I(P))throw new TypeError;return n===P||S===P||!I(O)&&O.has(P)}function C(P,K,W){if(!D(W))throw new Error("Metadata provider not registered.");var Q=L(P,K);if(Q!==W){if(!I(Q))return!1;var ce=N.get(P);I(ce)&&(ce=new c,N.set(P,ce)),ce.set(K,W)}return!0}}function Y(){var g;return!I(h)&&X(u.Reflect)&&Object.isExtensible(u.Reflect)&&(g=u.Reflect[h]),I(g)&&(g=Ai()),!I(h)&&X(u.Reflect)&&Object.isExtensible(u.Reflect)&&Object.defineProperty(u.Reflect,h,{enumerable:!1,configurable:!1,writable:!1,value:g}),g}function Di(g){var n=new f,S={isProviderFor:function(D,C){var P=n.get(D);return I(P)?!1:P.has(C)},OrdinaryDefineOwnMetadata:$,OrdinaryHasOwnMetadata:N,OrdinaryGetOwnMetadata:J,OrdinaryOwnMetadataKeys:j,OrdinaryDeleteMetadata:L};return R.registerProvider(S),S;function O(D,C,P){var K=n.get(D),W=!1;if(I(K)){if(!P)return;K=new c,n.set(D,K),W=!0}var Q=K.get(C);if(I(Q)){if(!P)return;if(Q=new c,K.set(C,Q),!g.setProvider(D,C,S))throw K.delete(C),W&&n.delete(D),new Error("Wrong provider for target.")}return Q}function N(D,C,P){var K=O(C,P,!1);return I(K)?!1:ei(K.has(D))}function J(D,C,P){var K=O(C,P,!1);if(!I(K))return K.get(D)}function $(D,C,P,K){var W=O(P,K,!0);W.set(D,C)}function j(D,C){var P=[],K=O(D,C,!1);if(I(K))return P;for(var W=K.keys(),Q=si(W),ce=0;;){var gt=ni(Q);if(!gt)return P.length=ce,P;var Ls=ai(gt);try{P[ce]=Ls}catch(As){try{ui(Q)}finally{throw As}}ce++}}function L(D,C,P){var K=O(C,P,!1);if(I(K)||!K.delete(D))return!1;if(K.size===0){var W=n.get(C);I(W)||(W.delete(P),W.size===0&&n.delete(W))}return!0}}function li(g){var n=g.defineMetadata,S=g.hasOwnMetadata,O=g.getOwnMetadata,N=g.getOwnMetadataKeys,J=g.deleteMetadata,$=new f,j={isProviderFor:function(L,D){var C=$.get(L);return!I(C)&&C.has(D)?!0:N(L,D).length?(I(C)&&(C=new _,$.set(L,C)),C.add(D),!0):!1},OrdinaryDefineOwnMetadata:n,OrdinaryHasOwnMetadata:S,OrdinaryGetOwnMetadata:O,OrdinaryOwnMetadataKeys:N,OrdinaryDeleteMetadata:J};return j}function ve(g,n,S){var O=R.getProvider(g,n);if(!I(O))return O;if(S){if(R.setProvider(g,n,y))return y;throw new Error("Illegal state.")}}function Ci(){var g={},n=[],S=(function(){function j(L,D,C){this._index=0,this._keys=L,this._values=D,this._selector=C}return j.prototype["@@iterator"]=function(){return this},j.prototype[r]=function(){return this},j.prototype.next=function(){var L=this._index;if(L>=0&&L<this._keys.length){var D=this._selector(this._keys[L],this._values[L]);return L+1>=this._keys.length?(this._index=-1,this._keys=n,this._values=n):this._index++,{value:D,done:!1}}return{value:void 0,done:!0}},j.prototype.throw=function(L){throw this._index>=0&&(this._index=-1,this._keys=n,this._values=n),L},j.prototype.return=function(L){return this._index>=0&&(this._index=-1,this._keys=n,this._values=n),{value:L,done:!0}},j})(),O=(function(){function j(){this._keys=[],this._values=[],this._cacheKey=g,this._cacheIndex=-2}return Object.defineProperty(j.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),j.prototype.has=function(L){return this._find(L,!1)>=0},j.prototype.get=function(L){var D=this._find(L,!1);return D>=0?this._values[D]:void 0},j.prototype.set=function(L,D){var C=this._find(L,!0);return this._values[C]=D,this},j.prototype.delete=function(L){var D=this._find(L,!1);if(D>=0){for(var C=this._keys.length,P=D+1;P<C;P++)this._keys[P-1]=this._keys[P],this._values[P-1]=this._values[P];return this._keys.length--,this._values.length--,Ie(L,this._cacheKey)&&(this._cacheKey=g,this._cacheIndex=-2),!0}return!1},j.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=g,this._cacheIndex=-2},j.prototype.keys=function(){return new S(this._keys,this._values,N)},j.prototype.values=function(){return new S(this._keys,this._values,J)},j.prototype.entries=function(){return new S(this._keys,this._values,$)},j.prototype["@@iterator"]=function(){return this.entries()},j.prototype[r]=function(){return this.entries()},j.prototype._find=function(L,D){if(!Ie(this._cacheKey,L)){this._cacheIndex=-1;for(var C=0;C<this._keys.length;C++)if(Ie(this._keys[C],L)){this._cacheIndex=C;break}}return this._cacheIndex<0&&D&&(this._cacheIndex=this._keys.length,this._keys.push(L),this._values.push(void 0)),this._cacheIndex},j})();return O;function N(j,L){return j}function J(j,L){return L}function $(j,L){return[j,L]}}function hi(){var g=(function(){function n(){this._map=new c}return Object.defineProperty(n.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),n.prototype.has=function(S){return this._map.has(S)},n.prototype.add=function(S){return this._map.set(S,S),this},n.prototype.delete=function(S){return this._map.delete(S)},n.prototype.clear=function(){this._map.clear()},n.prototype.keys=function(){return this._map.keys()},n.prototype.values=function(){return this._map.keys()},n.prototype.entries=function(){return this._map.entries()},n.prototype["@@iterator"]=function(){return this.keys()},n.prototype[r]=function(){return this.keys()},n})();return g}function oi(){var g=16,n=e.create(),S=O();return(function(){function L(){this._key=O()}return L.prototype.has=function(D){var C=N(D,!1);return C!==void 0?e.has(C,this._key):!1},L.prototype.get=function(D){var C=N(D,!1);return C!==void 0?e.get(C,this._key):void 0},L.prototype.set=function(D,C){var P=N(D,!0);return P[this._key]=C,this},L.prototype.delete=function(D){var C=N(D,!1);return C!==void 0?delete C[this._key]:!1},L.prototype.clear=function(){this._key=O()},L})();function O(){var L;do L="@@WeakMap@@"+j();while(e.has(n,L));return n[L]=!0,L}function N(L,D){if(!p.call(L,S)){if(!D)return;Object.defineProperty(L,S,{value:e.create()})}return L[S]}function J(L,D){for(var C=0;C<D;++C)L[C]=Math.random()*255|0;return L}function $(L){if(typeof Uint8Array=="function"){var D=new Uint8Array(L);return typeof crypto<"u"?crypto.getRandomValues(D):typeof msCrypto<"u"?msCrypto.getRandomValues(D):J(D,L),D}return J(new Array(L),L)}function j(){var L=$(g);L[6]=L[6]&79|64,L[8]=L[8]&191|128;for(var D="",C=0;C<g;++C){var P=L[C];(C===4||C===6||C===8)&&(D+="-"),P<16&&(D+="0"),D+=P.toString(16).toLowerCase()}return D}}function Ue(g){return g.__=void 0,delete g.__,g}})})(t||(t={})),dr}var pr;function Pi(){if(pr)return E;pr=1;var t=E&&E.__decorate||function(n,S,O,N){var J=arguments.length,$=J<3?S:N===null?N=Object.getOwnPropertyDescriptor(S,O):N,j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(n,S,O,N);else for(var L=n.length-1;L>=0;L--)(j=n[L])&&($=(J<3?j($):J>3?j(S,O,$):j(S,O))||$);return J>3&&$&&Object.defineProperty(S,O,$),$};Object.defineProperty(E,"__esModule",{value:!0}),E.TestCaseFinished=E.TestStep=E.StepMatchArgumentsList=E.StepMatchArgument=E.Group=E.TestCase=E.Snippet=E.Suggestion=E.StepDefinitionPattern=E.StepDefinition=E.JavaStackTraceElement=E.JavaMethod=E.SourceReference=E.Source=E.PickleTag=E.PickleTableRow=E.PickleTableCell=E.PickleTable=E.PickleStepArgument=E.PickleStep=E.PickleDocString=E.Pickle=E.ParseError=E.ParameterType=E.Product=E.Git=E.Ci=E.Meta=E.Location=E.Hook=E.Tag=E.TableRow=E.TableCell=E.Step=E.Scenario=E.RuleChild=E.Rule=E.FeatureChild=E.Feature=E.Examples=E.DocString=E.DataTable=E.Comment=E.Background=E.GherkinDocument=E.ExternalAttachment=E.Exception=E.Envelope=E.Duration=E.Attachment=void 0,E.TestStepResultStatus=E.StepKeywordType=E.StepDefinitionPatternType=E.SourceMediaType=E.PickleStepType=E.HookType=E.AttachmentContentEncoding=E.UndefinedParameterType=E.Timestamp=E.TestStepStarted=E.TestStepResult=E.TestStepFinished=E.TestRunStarted=E.TestRunHookStarted=E.TestRunHookFinished=E.TestRunFinished=E.TestCaseStarted=void 0;var s=or;fr();var a=(function(){function n(){this.body="",this.contentEncoding=li.IDENTITY,this.mediaType=""}return t([(0,s.Type)(function(){return Ne})],n.prototype,"source",void 0),t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.Attachment=a;var u=(function(){function n(){this.seconds=0,this.nanos=0}return n})();E.Duration=u;var p=(function(){function n(){}return t([(0,s.Type)(function(){return a})],n.prototype,"attachment",void 0),t([(0,s.Type)(function(){return o})],n.prototype,"externalAttachment",void 0),t([(0,s.Type)(function(){return r})],n.prototype,"gherkinDocument",void 0),t([(0,s.Type)(function(){return U})],n.prototype,"hook",void 0),t([(0,s.Type)(function(){return H})],n.prototype,"meta",void 0),t([(0,s.Type)(function(){return ie})],n.prototype,"parameterType",void 0),t([(0,s.Type)(function(){return Te})],n.prototype,"parseError",void 0),t([(0,s.Type)(function(){return we})],n.prototype,"pickle",void 0),t([(0,s.Type)(function(){return wi})],n.prototype,"suggestion",void 0),t([(0,s.Type)(function(){return Ne})],n.prototype,"source",void 0),t([(0,s.Type)(function(){return X})],n.prototype,"stepDefinition",void 0),t([(0,s.Type)(function(){return Oi})],n.prototype,"testCase",void 0),t([(0,s.Type)(function(){return Li})],n.prototype,"testCaseFinished",void 0),t([(0,s.Type)(function(){return Ie})],n.prototype,"testCaseStarted",void 0),t([(0,s.Type)(function(){return ti})],n.prototype,"testRunFinished",void 0),t([(0,s.Type)(function(){return ni})],n.prototype,"testRunStarted",void 0),t([(0,s.Type)(function(){return ui})],n.prototype,"testStepFinished",void 0),t([(0,s.Type)(function(){return Ai})],n.prototype,"testStepStarted",void 0),t([(0,s.Type)(function(){return ai})],n.prototype,"testRunHookStarted",void 0),t([(0,s.Type)(function(){return si})],n.prototype,"testRunHookFinished",void 0),t([(0,s.Type)(function(){return Di})],n.prototype,"undefinedParameterType",void 0),n})();E.Envelope=p;var m=(function(){function n(){this.type=""}return n})();E.Exception=m;var o=(function(){function n(){this.url="",this.mediaType=""}return t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.ExternalAttachment=o;var r=(function(){function n(){this.comments=[]}return t([(0,s.Type)(function(){return c})],n.prototype,"feature",void 0),t([(0,s.Type)(function(){return d})],n.prototype,"comments",void 0),n})();E.GherkinDocument=r;var T=(function(){function n(){this.location=new F,this.keyword="",this.name="",this.description="",this.steps=[],this.id=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return y})],n.prototype,"steps",void 0),n})();E.Background=T;var d=(function(){function n(){this.location=new F,this.text=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),n})();E.Comment=d;var i=(function(){function n(){this.location=new F,this.rows=[]}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return M})],n.prototype,"rows",void 0),n})();E.DataTable=i;var e=(function(){function n(){this.location=new F,this.content="",this.delimiter=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),n})();E.DocString=e;var l=(function(){function n(){this.location=new F,this.tags=[],this.keyword="",this.name="",this.description="",this.tableBody=[],this.id=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return A})],n.prototype,"tags",void 0),t([(0,s.Type)(function(){return M})],n.prototype,"tableHeader",void 0),t([(0,s.Type)(function(){return M})],n.prototype,"tableBody",void 0),n})();E.Examples=l;var c=(function(){function n(){this.location=new F,this.tags=[],this.language="",this.keyword="",this.name="",this.description="",this.children=[]}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return A})],n.prototype,"tags",void 0),t([(0,s.Type)(function(){return _})],n.prototype,"children",void 0),n})();E.Feature=c;var _=(function(){function n(){}return t([(0,s.Type)(function(){return f})],n.prototype,"rule",void 0),t([(0,s.Type)(function(){return T})],n.prototype,"background",void 0),t([(0,s.Type)(function(){return R})],n.prototype,"scenario",void 0),n})();E.FeatureChild=_;var f=(function(){function n(){this.location=new F,this.tags=[],this.keyword="",this.name="",this.description="",this.children=[],this.id=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return A})],n.prototype,"tags",void 0),t([(0,s.Type)(function(){return h})],n.prototype,"children",void 0),n})();E.Rule=f;var h=(function(){function n(){}return t([(0,s.Type)(function(){return T})],n.prototype,"background",void 0),t([(0,s.Type)(function(){return R})],n.prototype,"scenario",void 0),n})();E.RuleChild=h;var R=(function(){function n(){this.location=new F,this.tags=[],this.keyword="",this.name="",this.description="",this.steps=[],this.examples=[],this.id=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return A})],n.prototype,"tags",void 0),t([(0,s.Type)(function(){return y})],n.prototype,"steps",void 0),t([(0,s.Type)(function(){return l})],n.prototype,"examples",void 0),n})();E.Scenario=R;var y=(function(){function n(){this.location=new F,this.keyword="",this.text="",this.id=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return e})],n.prototype,"docString",void 0),t([(0,s.Type)(function(){return i})],n.prototype,"dataTable",void 0),n})();E.Step=y;var v=(function(){function n(){this.location=new F,this.value=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),n})();E.TableCell=v;var M=(function(){function n(){this.location=new F,this.cells=[],this.id=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return v})],n.prototype,"cells",void 0),n})();E.TableRow=M;var A=(function(){function n(){this.location=new F,this.name="",this.id=""}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),n})();E.Tag=A;var U=(function(){function n(){this.id="",this.sourceReference=new I}return t([(0,s.Type)(function(){return I})],n.prototype,"sourceReference",void 0),n})();E.Hook=U;var F=(function(){function n(){this.line=0}return n})();E.Location=F;var H=(function(){function n(){this.protocolVersion="",this.implementation=new ee,this.runtime=new ee,this.os=new ee,this.cpu=new ee}return t([(0,s.Type)(function(){return ee})],n.prototype,"implementation",void 0),t([(0,s.Type)(function(){return ee})],n.prototype,"runtime",void 0),t([(0,s.Type)(function(){return ee})],n.prototype,"os",void 0),t([(0,s.Type)(function(){return ee})],n.prototype,"cpu",void 0),t([(0,s.Type)(function(){return x})],n.prototype,"ci",void 0),n})();E.Meta=H;var x=(function(){function n(){this.name=""}return t([(0,s.Type)(function(){return ge})],n.prototype,"git",void 0),n})();E.Ci=x;var ge=(function(){function n(){this.remote="",this.revision=""}return n})();E.Git=ge;var ee=(function(){function n(){this.name=""}return n})();E.Product=ee;var ie=(function(){function n(){this.name="",this.regularExpressions=[],this.preferForRegularExpressionMatch=!1,this.useForSnippets=!1,this.id=""}return t([(0,s.Type)(function(){return I})],n.prototype,"sourceReference",void 0),n})();E.ParameterType=ie;var Te=(function(){function n(){this.source=new I,this.message=""}return t([(0,s.Type)(function(){return I})],n.prototype,"source",void 0),n})();E.ParseError=Te;var we=(function(){function n(){this.id="",this.uri="",this.name="",this.language="",this.steps=[],this.tags=[],this.astNodeIds=[]}return t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),t([(0,s.Type)(function(){return q})],n.prototype,"steps",void 0),t([(0,s.Type)(function(){return ke})],n.prototype,"tags",void 0),n})();E.Pickle=we;var Re=(function(){function n(){this.content=""}return n})();E.PickleDocString=Re;var q=(function(){function n(){this.astNodeIds=[],this.id="",this.text=""}return t([(0,s.Type)(function(){return te})],n.prototype,"argument",void 0),n})();E.PickleStep=q;var te=(function(){function n(){}return t([(0,s.Type)(function(){return Re})],n.prototype,"docString",void 0),t([(0,s.Type)(function(){return Ye})],n.prototype,"dataTable",void 0),n})();E.PickleStepArgument=te;var Ye=(function(){function n(){this.rows=[]}return t([(0,s.Type)(function(){return Ve})],n.prototype,"rows",void 0),n})();E.PickleTable=Ye;var Qe=(function(){function n(){this.value=""}return n})();E.PickleTableCell=Qe;var Ve=(function(){function n(){this.cells=[]}return t([(0,s.Type)(function(){return Qe})],n.prototype,"cells",void 0),n})();E.PickleTableRow=Ve;var ke=(function(){function n(){this.name="",this.astNodeId=""}return n})();E.PickleTag=ke;var Ne=(function(){function n(){this.uri="",this.data="",this.mediaType=hi.TEXT_X_CUCUMBER_GHERKIN_PLAIN}return n})();E.Source=Ne;var I=(function(){function n(){}return t([(0,s.Type)(function(){return ye})],n.prototype,"javaMethod",void 0),t([(0,s.Type)(function(){return bi})],n.prototype,"javaStackTraceElement",void 0),t([(0,s.Type)(function(){return F})],n.prototype,"location",void 0),n})();E.SourceReference=I;var ye=(function(){function n(){this.className="",this.methodName="",this.methodParameterTypes=[]}return n})();E.JavaMethod=ye;var bi=(function(){function n(){this.className="",this.fileName="",this.methodName=""}return n})();E.JavaStackTraceElement=bi;var X=(function(){function n(){this.id="",this.pattern=new xe,this.sourceReference=new I}return t([(0,s.Type)(function(){return xe})],n.prototype,"pattern",void 0),t([(0,s.Type)(function(){return I})],n.prototype,"sourceReference",void 0),n})();E.StepDefinition=X;var xe=(function(){function n(){this.source="",this.type=oi.CUCUMBER_EXPRESSION}return n})();E.StepDefinitionPattern=xe;var wi=(function(){function n(){this.id="",this.pickleStepId="",this.snippets=[]}return t([(0,s.Type)(function(){return ei})],n.prototype,"snippets",void 0),n})();E.Suggestion=wi;var ei=(function(){function n(){this.language="",this.code=""}return n})();E.Snippet=ei;var Oi=(function(){function n(){this.id="",this.pickleId="",this.testSteps=[]}return t([(0,s.Type)(function(){return ri})],n.prototype,"testSteps",void 0),n})();E.TestCase=Oi;var se=(function(){function n(){}return t([(0,s.Type)(function(){return n})],n.prototype,"children",void 0),n})();E.Group=se;var ii=(function(){function n(){this.group=new se}return t([(0,s.Type)(function(){return se})],n.prototype,"group",void 0),n})();E.StepMatchArgument=ii;var Oe=(function(){function n(){this.stepMatchArguments=[]}return t([(0,s.Type)(function(){return ii})],n.prototype,"stepMatchArguments",void 0),n})();E.StepMatchArgumentsList=Oe;var ri=(function(){function n(){this.id=""}return t([(0,s.Type)(function(){return Oe})],n.prototype,"stepMatchArgumentsLists",void 0),n})();E.TestStep=ri;var Li=(function(){function n(){this.testCaseStartedId="",this.timestamp=new Y,this.willBeRetried=!1}return t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.TestCaseFinished=Li;var Ie=(function(){function n(){this.attempt=0,this.id="",this.testCaseId="",this.timestamp=new Y}return t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.TestCaseStarted=Ie;var ti=(function(){function n(){this.success=!1,this.timestamp=new Y}return t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),t([(0,s.Type)(function(){return m})],n.prototype,"exception",void 0),n})();E.TestRunFinished=ti;var si=(function(){function n(){this.testRunHookStartedId="",this.result=new Ee,this.timestamp=new Y}return t([(0,s.Type)(function(){return Ee})],n.prototype,"result",void 0),t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.TestRunHookFinished=si;var ai=(function(){function n(){this.id="",this.testRunStartedId="",this.hookId="",this.timestamp=new Y}return t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.TestRunHookStarted=ai;var ni=(function(){function n(){this.timestamp=new Y}return t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.TestRunStarted=ni;var ui=(function(){function n(){this.testCaseStartedId="",this.testStepId="",this.testStepResult=new Ee,this.timestamp=new Y}return t([(0,s.Type)(function(){return Ee})],n.prototype,"testStepResult",void 0),t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.TestStepFinished=ui;var Ee=(function(){function n(){this.duration=new u,this.status=g.UNKNOWN}return t([(0,s.Type)(function(){return u})],n.prototype,"duration",void 0),t([(0,s.Type)(function(){return m})],n.prototype,"exception",void 0),n})();E.TestStepResult=Ee;var Ai=(function(){function n(){this.testCaseStartedId="",this.testStepId="",this.timestamp=new Y}return t([(0,s.Type)(function(){return Y})],n.prototype,"timestamp",void 0),n})();E.TestStepStarted=Ai;var Y=(function(){function n(){this.seconds=0,this.nanos=0}return n})();E.Timestamp=Y;var Di=(function(){function n(){this.expression="",this.name=""}return n})();E.UndefinedParameterType=Di;var li;(function(n){n.IDENTITY="IDENTITY",n.BASE64="BASE64"})(li||(E.AttachmentContentEncoding=li={}));var ve;(function(n){n.BEFORE_TEST_RUN="BEFORE_TEST_RUN",n.AFTER_TEST_RUN="AFTER_TEST_RUN",n.BEFORE_TEST_CASE="BEFORE_TEST_CASE",n.AFTER_TEST_CASE="AFTER_TEST_CASE",n.BEFORE_TEST_STEP="BEFORE_TEST_STEP",n.AFTER_TEST_STEP="AFTER_TEST_STEP"})(ve||(E.HookType=ve={}));var Ci;(function(n){n.UNKNOWN="Unknown",n.CONTEXT="Context",n.ACTION="Action",n.OUTCOME="Outcome"})(Ci||(E.PickleStepType=Ci={}));var hi;(function(n){n.TEXT_X_CUCUMBER_GHERKIN_PLAIN="text/x.cucumber.gherkin+plain",n.TEXT_X_CUCUMBER_GHERKIN_MARKDOWN="text/x.cucumber.gherkin+markdown"})(hi||(E.SourceMediaType=hi={}));var oi;(function(n){n.CUCUMBER_EXPRESSION="CUCUMBER_EXPRESSION",n.REGULAR_EXPRESSION="REGULAR_EXPRESSION"})(oi||(E.StepDefinitionPatternType=oi={}));var Ue;(function(n){n.UNKNOWN="Unknown",n.CONTEXT="Context",n.ACTION="Action",n.OUTCOME="Outcome",n.CONJUNCTION="Conjunction"})(Ue||(E.StepKeywordType=Ue={}));var g;return(function(n){n.UNKNOWN="UNKNOWN",n.PASSED="PASSED",n.SKIPPED="SKIPPED",n.PENDING="PENDING",n.UNDEFINED="UNDEFINED",n.AMBIGUOUS="AMBIGUOUS",n.FAILED="FAILED"})(g||(E.TestStepResultStatus=g={})),E}var mr;function Wt(){if(mr)return fi;mr=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.parseEnvelope=a;var t=Pi(),s=or;function a(u){var p=JSON.parse(u);return(0,s.plainToClass)(t.Envelope,p)}return fi}var pi={},Rr;function Jt(){if(Rr)return pi;Rr=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.getWorstTestStepResult=a;var t=Pi(),s=ur();function a(p){return p.slice().sort(function(m,o){return u(o.status)-u(m.status)})[0]||{status:t.TestStepResultStatus.UNKNOWN,duration:(0,s.millisecondsToDuration)(0)}}function u(p){return[t.TestStepResultStatus.UNKNOWN,t.TestStepResultStatus.PASSED,t.TestStepResultStatus.SKIPPED,t.TestStepResultStatus.PENDING,t.TestStepResultStatus.UNDEFINED,t.TestStepResultStatus.AMBIGUOUS,t.TestStepResultStatus.FAILED].indexOf(p)}return pi}var Ge={},gr;function Xt(){return gr||(gr=1,Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.version=void 0,Ge.version="31.1.0"),Ge}var Tr;function qe(){return Tr||(Tr=1,(function(t){var s=oe&&oe.__createBinding||(Object.create?(function(i,e,l,c){c===void 0&&(c=l);var _=Object.getOwnPropertyDescriptor(e,l);(!_||("get"in _?!e.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return e[l]}}),Object.defineProperty(i,c,_)}):(function(i,e,l,c){c===void 0&&(c=l),i[c]=e[l]})),a=oe&&oe.__setModuleDefault||(Object.create?(function(i,e){Object.defineProperty(i,"default",{enumerable:!0,value:e})}):function(i,e){i.default=e}),u=oe&&oe.__importStar||(function(){var i=function(e){return i=Object.getOwnPropertyNames||function(l){var c=[];for(var _ in l)Object.prototype.hasOwnProperty.call(l,_)&&(c[c.length]=_);return c},i(e)};return function(e){if(e&&e.__esModule)return e;var l={};if(e!=null)for(var c=i(e),_=0;_<c.length;_++)c[_]!=="default"&&s(l,e,c[_]);return a(l,e),l}})(),p=oe&&oe.__exportStar||function(i,e){for(var l in i)l!=="default"&&!Object.prototype.hasOwnProperty.call(e,l)&&s(e,i,l)};Object.defineProperty(t,"__esModule",{value:!0}),t.getWorstTestStepResult=t.parseEnvelope=t.version=t.IdGenerator=t.TimeConversion=void 0;var m=u(ur());t.TimeConversion=m;var o=u(vt());t.IdGenerator=o;var r=Wt();Object.defineProperty(t,"parseEnvelope",{enumerable:!0,get:function(){return r.parseEnvelope}});var T=Jt();Object.defineProperty(t,"getWorstTestStepResult",{enumerable:!0,get:function(){return T.getWorstTestStepResult}});var d=Xt();Object.defineProperty(t,"version",{enumerable:!0,get:function(){return d.version}}),p(Pi(),t)})(oe)),oe}var mi={},yr;function Er(){if(yr)return mi;yr=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.compareStepKeywords=t;function t(s,a){return a.length-s.length}return mi}var _r;function Sr(){if(_r)return le;_r=1;var t=le&&le.__createBinding||(Object.create?(function(_,f,h,R){R===void 0&&(R=h);var y=Object.getOwnPropertyDescriptor(f,h);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(_,R,y)}):(function(_,f,h,R){R===void 0&&(R=h),_[R]=f[h]})),s=le&&le.__setModuleDefault||(Object.create?(function(_,f){Object.defineProperty(_,"default",{enumerable:!0,value:f})}):function(_,f){_.default=f}),a=le&&le.__importStar||(function(){var _=function(f){return _=Object.getOwnPropertyNames||function(h){var R=[];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(R[R.length]=y);return R},_(f)};return function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var R=_(f),y=0;y<R.length;y++)R[y]!=="default"&&t(h,f,R[y]);return s(h,f),h}})(),u=le&&le.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(le,"__esModule",{value:!0});const p=u(Mi),m=Le(),o=a(qe()),r=Be(),T=u(rr()),d=Er(),i=p.default,e=/^\s*#\s*language\s*:\s*([a-zA-Z\-_]+)\s*$/;function l(_,f,h){for(const R of f)R in _||(_[R]=[]),_[R].push(h)}let c=class{constructor(f="en"){this.defaultDialectName=f,this.reset()}changeDialect(f,h){const R=i[f];if(!R)throw m.NoSuchLanguageException.create(f,h);this.dialectName=f,this.dialect=R,this.initializeKeywordTypes(),this.initializeSortedStepKeywords()}reset(){this.dialectName!==this.defaultDialectName&&this.changeDialect(this.defaultDialectName),this.activeDocStringSeparator=null,this.indentToRemove=0}initializeKeywordTypes(){this.keywordTypesMap={},l(this.keywordTypesMap,this.dialect.given,o.StepKeywordType.CONTEXT),l(this.keywordTypesMap,this.dialect.when,o.StepKeywordType.ACTION),l(this.keywordTypesMap,this.dialect.then,o.StepKeywordType.OUTCOME),l(this.keywordTypesMap,[].concat(this.dialect.and).concat(this.dialect.but),o.StepKeywordType.CONJUNCTION)}initializeSortedStepKeywords(){this.sortedStepKeywords=[].concat(this.dialect.given).concat(this.dialect.when).concat(this.dialect.then).concat(this.dialect.and).concat(this.dialect.but).sort(d.compareStepKeywords)}match_TagLine(f){return f.line.startsWith("@")?(this.setTokenMatched(f,r.TokenType.TagLine,null,null,null,null,this.getTags(f.line)),!0):!1}match_FeatureLine(f){return this.matchTitleLine(f,r.TokenType.FeatureLine,this.dialect.feature)}match_ScenarioLine(f){return this.matchTitleLine(f,r.TokenType.ScenarioLine,this.dialect.scenario)||this.matchTitleLine(f,r.TokenType.ScenarioLine,this.dialect.scenarioOutline)}match_BackgroundLine(f){return this.matchTitleLine(f,r.TokenType.BackgroundLine,this.dialect.background)}match_ExamplesLine(f){return this.matchTitleLine(f,r.TokenType.ExamplesLine,this.dialect.examples)}match_RuleLine(f){return this.matchTitleLine(f,r.TokenType.RuleLine,this.dialect.rule)}match_TableRow(f){return f.line.startsWith("|")?(this.setTokenMatched(f,r.TokenType.TableRow,null,null,null,null,f.line.getTableCells()),!0):!1}match_Empty(f){return f.line.isEmpty?(this.setTokenMatched(f,r.TokenType.Empty,null,null,0),!0):!1}match_Comment(f){if(f.line.startsWith("#")){const h=f.line.getLineText(0);return this.setTokenMatched(f,r.TokenType.Comment,h,null,0),!0}return!1}match_Language(f){const h=f.line.trimmedLineText.match(e);if(h){const R=h[1];return this.setTokenMatched(f,r.TokenType.Language,R),this.changeDialect(R,f.location),!0}return!1}match_DocStringSeparator(f){return this.activeDocStringSeparator==null?this._match_DocStringSeparator(f,'"""',!0)||this._match_DocStringSeparator(f,"```",!0):this._match_DocStringSeparator(f,this.activeDocStringSeparator,!1)}_match_DocStringSeparator(f,h,R){if(f.line.startsWith(h)){let y=null;return R?(y=f.line.getRestTrimmed(h.length),this.activeDocStringSeparator=h,this.indentToRemove=f.line.indent):(this.activeDocStringSeparator=null,this.indentToRemove=0),this.setTokenMatched(f,r.TokenType.DocStringSeparator,y,h),!0}return!1}match_EOF(f){return f.isEof?(this.setTokenMatched(f,r.TokenType.EOF),!0):!1}match_StepLine(f){for(const h of this.sortedStepKeywords)if(f.line.startsWith(h)){const R=f.line.getRestTrimmed(h.length),y=this.keywordTypesMap[h];let v=y[0];return y.length>1&&(v=o.StepKeywordType.UNKNOWN),this.setTokenMatched(f,r.TokenType.StepLine,R,h,null,v),!0}return!1}match_Other(f){const h=f.line.getLineText(this.indentToRemove);return this.setTokenMatched(f,r.TokenType.Other,this.unescapeDocString(h),null,0),!0}getTags(f){const h=f.trimmedLineText.split(/\s#/g,2)[0];let R=f.indent+1;const y=h.split("@"),v=[];for(let M=0;M<y.length;M++){const A=y[M].trimRight();if(A.length==0)continue;if(!A.match(/^\S+$/))throw m.ParserException.create("A tag may not contain whitespace",f.lineNumber,R);const U={column:R,text:"@"+A};v.push(U),R+=(0,T.default)(y[M])+1}return v}matchTitleLine(f,h,R){for(const y of R)if(f.line.startsWithTitleKeyword(y)){const v=f.line.getRestTrimmed(y.length+1);return this.setTokenMatched(f,h,v,y),!0}return!1}setTokenMatched(f,h,R,y,v,M,A){f.matchedType=h,f.matchedText=R,f.matchedKeyword=y,f.matchedKeywordType=M,f.matchedIndent=typeof v=="number"?v:f.line==null?0:f.line.indent,f.matchedItems=A||[],f.location.column=f.matchedIndent+1,f.matchedGherkinDialect=this.dialectName}unescapeDocString(f){return this.activeDocStringSeparator==='"""'?f.replace('\\"\\"\\"','"""'):this.activeDocStringSeparator==="```"?f.replace("\\`\\`\\`","```"):f}};return le.default=c,le}var fe={},vr;function br(){if(vr)return fe;vr=1;var t=fe&&fe.__createBinding||(Object.create?(function(_,f,h,R){R===void 0&&(R=h);var y=Object.getOwnPropertyDescriptor(f,h);(!y||("get"in y?!f.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(_,R,y)}):(function(_,f,h,R){R===void 0&&(R=h),_[R]=f[h]})),s=fe&&fe.__setModuleDefault||(Object.create?(function(_,f){Object.defineProperty(_,"default",{enumerable:!0,value:f})}):function(_,f){_.default=f}),a=fe&&fe.__importStar||(function(){var _=function(f){return _=Object.getOwnPropertyNames||function(h){var R=[];for(var y in h)Object.prototype.hasOwnProperty.call(h,y)&&(R[R.length]=y);return R},_(f)};return function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var R=_(f),y=0;y<R.length;y++)R[y]!=="default"&&t(h,f,R[y]);return s(h,f),h}})();Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=m;const u=a(qe()),p={[u.StepKeywordType.UNKNOWN]:u.PickleStepType.UNKNOWN,[u.StepKeywordType.CONTEXT]:u.PickleStepType.CONTEXT,[u.StepKeywordType.ACTION]:u.PickleStepType.ACTION,[u.StepKeywordType.OUTCOME]:u.PickleStepType.OUTCOME,[u.StepKeywordType.CONJUNCTION]:null};function m(_,f,h){const R=[];if(_.feature==null)return R;const y=_.feature,v=y.language,M=y.tags;let A=[];return y.children.forEach(U=>{U.background?A=[].concat(U.background.steps):U.rule?o(M,A,U.rule,v,R,f,h):U.scenario.examples.length===0?r(M,A,U.scenario,v,R,f,h):T(M,A,U.scenario,v,R,f,h)}),R}function o(_,f,h,R,y,v,M){let A=[].concat(f);const U=[].concat(_).concat(h.tags);h.children.forEach(F=>{F.background?A=A.concat(F.background.steps):F.scenario.examples.length===0?r(U,A,F.scenario,R,y,v,M):T(U,A,F.scenario,R,y,v,M)})}function r(_,f,h,R,y,v,M){let A=u.StepKeywordType.UNKNOWN;const U=[];h.steps.length!==0&&f.forEach(x=>{A=x.keywordType===u.StepKeywordType.CONJUNCTION?A:x.keywordType,U.push(e(x,[],null,M,A))});const F=[].concat(_).concat(h.tags);h.steps.forEach(x=>{A=x.keywordType===u.StepKeywordType.CONJUNCTION?A:x.keywordType,U.push(e(x,[],null,M,A))});const H={id:M(),uri:v,location:h.location,astNodeIds:[h.id],tags:l(F),name:h.name,language:R,steps:U};y.push(H)}function T(_,f,h,R,y,v,M){h.examples.filter(A=>A.tableHeader).forEach(A=>{const U=A.tableHeader.cells;A.tableBody.forEach(F=>{let H=u.StepKeywordType.UNKNOWN;const x=[];h.steps.length!==0&&f.forEach(ie=>{H=ie.keywordType===u.StepKeywordType.CONJUNCTION?H:ie.keywordType,x.push(e(ie,[],null,M,H))}),h.steps.forEach(ie=>{H=ie.keywordType===u.StepKeywordType.CONJUNCTION?H:ie.keywordType;const Te=e(ie,U,F,M,H);x.push(Te)});const ge=M(),ee=l([].concat(_).concat(h.tags).concat(A.tags));y.push({id:ge,uri:v,location:F.location,astNodeIds:[h.id,F.id],name:i(h.name,U,F.cells),language:R,steps:x,tags:ee})})})}function d(_,f,h){if(_.dataTable)return{dataTable:{rows:_.dataTable.rows.map(v=>({cells:v.cells.map(M=>({value:i(M.value,f,h)}))}))}};if(_.docString){const R=_.docString,y={content:i(R.content,f,h)};return R.mediaType&&(y.mediaType=i(R.mediaType,f,h)),{docString:y}}}function i(_,f,h){return f.forEach((R,y)=>{const v=h[y],A=("<"+R.value+">").replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),U=new RegExp(A,"g"),F=v.value.replace(new RegExp("\\$","g"),"$$$$");_=_.replace(U,F)}),_}function e(_,f,h,R,y){const v=[_.id];h&&v.push(h.id);const M=h?h.cells:[];return{id:R(),text:i(_.text,f,M),type:p[y],argument:d(_,f,M),astNodeIds:v}}function l(_){return _.map(c)}function c(_){return{name:_.name,astNodeId:_.id}}return fe}var Ce={},Ri={},wr;function Zt(){if(wr)return Ri;wr=1,Object.defineProperty(Ri,"__esModule",{value:!0});let t=class{constructor(a){this.ruleType=a,this.subItems=new Map}add(a,u){let p=this.subItems.get(a);p===void 0&&(p=[],this.subItems.set(a,p)),p.push(u)}getSingle(a){return(this.subItems.get(a)||[])[0]}getItems(a){return this.subItems.get(a)||[]}getToken(a){return(this.subItems.get(a)||[])[0]}getTokens(a){return this.subItems.get(a)||[]}};return Ri.default=t,Ri}var Or;function Lr(){if(Or)return Ce;Or=1;var t=Ce&&Ce.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(Ce,"__esModule",{value:!0});const s=t(Zt()),a=Be(),u=Le();let p=class{constructor(o){if(this.newId=o,!o)throw new Error("No newId");this.reset()}reset(){this.stack=[new s.default(a.RuleType.None)],this.comments=[]}startRule(o){this.stack.push(new s.default(o))}endRule(){const o=this.stack.pop(),r=this.transformNode(o);this.currentNode().add(o.ruleType,r)}build(o){o.matchedType===a.TokenType.Comment?this.comments.push({location:this.getLocation(o),text:o.matchedText}):this.currentNode().add(o.matchedType,o)}getResult(){return this.currentNode().getSingle(a.RuleType.GherkinDocument)}currentNode(){return this.stack[this.stack.length-1]}getLocation(o,r){return r?{line:o.location.line,column:r}:o.location}getTags(o){const r=[],T=o.getSingle(a.RuleType.Tags);if(!T)return r;const d=T.getTokens(a.TokenType.TagLine);for(const i of d)for(const e of i.matchedItems)r.push({location:this.getLocation(i,e.column),name:e.text,id:this.newId()});return r}getCells(o){return o.matchedItems.map(r=>({location:this.getLocation(o,r.column),value:r.text}))}getDescription(o){return o.getSingle(a.RuleType.Description)||""}getSteps(o){return o.getItems(a.RuleType.Step)}getTableRows(o){const r=o.getTokens(a.TokenType.TableRow).map(T=>({id:this.newId(),location:this.getLocation(T),cells:this.getCells(T)}));return this.ensureCellCount(r),r.length===0?[]:r}ensureCellCount(o){if(o.length===0)return;const r=o[0].cells.length;o.forEach(T=>{if(T.cells.length!==r)throw u.AstBuilderException.create("inconsistent cell count within the table",T.location)})}transformNode(o){switch(o.ruleType){case a.RuleType.Step:{const r=o.getToken(a.TokenType.StepLine),T=o.getSingle(a.RuleType.DataTable),d=o.getSingle(a.RuleType.DocString),i=this.getLocation(r);return{id:this.newId(),location:i,keyword:r.matchedKeyword,keywordType:r.matchedKeywordType,text:r.matchedText,dataTable:T,docString:d}}case a.RuleType.DocString:{const r=o.getTokens(a.TokenType.DocStringSeparator)[0],T=r.matchedText.length>0?r.matchedText:void 0,i=o.getTokens(a.TokenType.Other).map(l=>l.matchedText).join(`
`),e={location:this.getLocation(r),content:i,delimiter:r.matchedKeyword};return T&&(e.mediaType=T),e}case a.RuleType.DataTable:{const r=this.getTableRows(o);return{location:r[0].location,rows:r}}case a.RuleType.Background:{const r=o.getToken(a.TokenType.BackgroundLine),T=this.getDescription(o),d=this.getSteps(o);return{id:this.newId(),location:this.getLocation(r),keyword:r.matchedKeyword,name:r.matchedText,description:T,steps:d}}case a.RuleType.ScenarioDefinition:{const r=this.getTags(o),T=o.getSingle(a.RuleType.Scenario),d=T.getToken(a.TokenType.ScenarioLine),i=this.getDescription(T),e=this.getSteps(T),l=T.getItems(a.RuleType.ExamplesDefinition);return{id:this.newId(),tags:r,location:this.getLocation(d),keyword:d.matchedKeyword,name:d.matchedText,description:i,steps:e,examples:l}}case a.RuleType.ExamplesDefinition:{const r=this.getTags(o),T=o.getSingle(a.RuleType.Examples),d=T.getToken(a.TokenType.ExamplesLine),i=this.getDescription(T),e=T.getSingle(a.RuleType.ExamplesTable);return{id:this.newId(),tags:r,location:this.getLocation(d),keyword:d.matchedKeyword,name:d.matchedText,description:i,tableHeader:e?e[0]:void 0,tableBody:e?e.slice(1):[]}}case a.RuleType.ExamplesTable:return this.getTableRows(o);case a.RuleType.Description:{let r=o.getTokens(a.TokenType.Other),T=r.length;for(;T>0&&r[T-1].line.trimmedLineText==="";)T--;return r=r.slice(0,T),r.map(d=>d.matchedText).join(`
`)}case a.RuleType.Feature:{const r=o.getSingle(a.RuleType.FeatureHeader);if(!r)return null;const T=this.getTags(r),d=r.getToken(a.TokenType.FeatureLine);if(!d)return null;const i=[],e=o.getSingle(a.RuleType.Background);e&&i.push({background:e});for(const f of o.getItems(a.RuleType.ScenarioDefinition))i.push({scenario:f});for(const f of o.getItems(a.RuleType.Rule))i.push({rule:f});const l=this.getDescription(r),c=d.matchedGherkinDialect;return{tags:T,location:this.getLocation(d),language:c,keyword:d.matchedKeyword,name:d.matchedText,description:l,children:i}}case a.RuleType.Rule:{const r=o.getSingle(a.RuleType.RuleHeader);if(!r)return null;const T=r.getToken(a.TokenType.RuleLine);if(!T)return null;const d=this.getTags(r),i=[],e=o.getSingle(a.RuleType.Background);e&&i.push({background:e});for(const _ of o.getItems(a.RuleType.ScenarioDefinition))i.push({scenario:_});const l=this.getDescription(r);return{id:this.newId(),location:this.getLocation(T),keyword:T.matchedKeyword,name:T.matchedText,description:l,children:i,tags:d}}case a.RuleType.GherkinDocument:return{feature:o.getSingle(a.RuleType.Feature),comments:this.comments};default:return o}}};return Ce.default=p,Ce}var pe={},Ar;function Dr(){if(Ar)return pe;Ar=1;var t=pe&&pe.__createBinding||(Object.create?(function(m,o,r,T){T===void 0&&(T=r);var d=Object.getOwnPropertyDescriptor(o,r);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[r]}}),Object.defineProperty(m,T,d)}):(function(m,o,r,T){T===void 0&&(T=r),m[T]=o[r]})),s=pe&&pe.__setModuleDefault||(Object.create?(function(m,o){Object.defineProperty(m,"default",{enumerable:!0,value:o})}):function(m,o){m.default=o}),a=pe&&pe.__importStar||(function(){var m=function(o){return m=Object.getOwnPropertyNames||function(r){var T=[];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(T[T.length]=d);return T},m(o)};return function(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var T=m(o),d=0;d<T.length;d++)T[d]!=="default"&&t(r,o,T[d]);return s(r,o),r}})();Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=p;const u=a(qe());function p(m,o){let r;if(o.endsWith(".feature")?r=u.SourceMediaType.TEXT_X_CUCUMBER_GHERKIN_PLAIN:o.endsWith(".md")&&(r=u.SourceMediaType.TEXT_X_CUCUMBER_GHERKIN_MARKDOWN),!r)throw new Error(`The uri (${o}) must end with .feature or .md`);return{source:{data:m,uri:o,mediaType:r}}}return pe}var he={},Cr;function Mr(){if(Cr)return he;Cr=1;var t=he&&he.__createBinding||(Object.create?(function(f,h,R,y){y===void 0&&(y=R);var v=Object.getOwnPropertyDescriptor(h,R);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[R]}}),Object.defineProperty(f,y,v)}):(function(f,h,R,y){y===void 0&&(y=R),f[y]=h[R]})),s=he&&he.__setModuleDefault||(Object.create?(function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}):function(f,h){f.default=h}),a=he&&he.__importStar||(function(){var f=function(h){return f=Object.getOwnPropertyNames||function(R){var y=[];for(var v in R)Object.prototype.hasOwnProperty.call(R,v)&&(y[y.length]=v);return y},f(h)};return function(h){if(h&&h.__esModule)return h;var R={};if(h!=null)for(var y=f(h),v=0;v<y.length;v++)y[v]!=="default"&&t(R,h,y[v]);return s(R,h),R}})(),u=he&&he.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(he,"__esModule",{value:!0});const p=Be(),m=u(Mi),o=a(qe()),r=Le(),T=Er(),d=m.default,i=/^(```[`]*)(.*)/;function e(f,h,R){for(const y of h)y in f||(f[y]=[]),f[y].push(R)}let l=class{constructor(h="en"){this.defaultDialectName=h,this.dialect=d[h],this.nonStarStepKeywords=[].concat(this.dialect.given).concat(this.dialect.when).concat(this.dialect.then).concat(this.dialect.and).concat(this.dialect.but).filter((y,v,M)=>y!=="* "&&M.indexOf(y)===v).sort(T.compareStepKeywords),this.initializeKeywordTypes(),this.stepRegexp=new RegExp(`${c.BULLET}(${this.nonStarStepKeywords.map(_).join("|")})`);const R=[].concat(this.dialect.feature).concat(this.dialect.background).concat(this.dialect.rule).concat(this.dialect.scenarioOutline).concat(this.dialect.scenario).concat(this.dialect.examples).filter((y,v,M)=>M.indexOf(y)===v);this.headerRegexp=new RegExp(`${c.HEADER}(${R.map(_).join("|")})`),this.reset()}changeDialect(h,R){const y=d[h];if(!y)throw r.NoSuchLanguageException.create(h,R);this.dialectName=h,this.dialect=y,this.initializeKeywordTypes()}initializeKeywordTypes(){this.keywordTypesMap={},e(this.keywordTypesMap,this.dialect.given,o.StepKeywordType.CONTEXT),e(this.keywordTypesMap,this.dialect.when,o.StepKeywordType.ACTION),e(this.keywordTypesMap,this.dialect.then,o.StepKeywordType.OUTCOME),e(this.keywordTypesMap,[].concat(this.dialect.and).concat(this.dialect.but),o.StepKeywordType.CONJUNCTION)}match_Language(h){if(!h)throw new Error("no token");return!1}match_Empty(h){let R=!1;return h.line.isEmpty&&(R=!0),!this.match_TagLine(h)&&!this.match_FeatureLine(h)&&!this.match_ScenarioLine(h)&&!this.match_BackgroundLine(h)&&!this.match_ExamplesLine(h)&&!this.match_RuleLine(h)&&!this.match_TableRow(h)&&!this.match_Comment(h)&&!this.match_Language(h)&&!this.match_DocStringSeparator(h)&&!this.match_EOF(h)&&!this.match_StepLine(h)&&(R=!0),R&&(h.matchedType=p.TokenType.Empty),this.setTokenMatched(h,null,R)}match_Other(h){const R=h.line.getLineText(this.indentToRemove);return h.matchedType=p.TokenType.Other,h.matchedText=R,h.matchedIndent=0,this.setTokenMatched(h,null,!0)}match_Comment(h){let R=!1;if(h.line.startsWith("|")){const y=h.line.getTableCells();this.isGfmTableSeparator(y)&&(R=!0)}return this.setTokenMatched(h,null,R)}match_DocStringSeparator(h){const R=h.line.trimmedLineText.match(this.activeDocStringSeparator),[,y,v]=R||[];let M=!1;return y&&(this.activeDocStringSeparator===i?(this.activeDocStringSeparator=new RegExp(`^(${y})$`),this.indentToRemove=h.line.indent):this.activeDocStringSeparator=i,h.matchedKeyword=y,h.matchedType=p.TokenType.DocStringSeparator,h.matchedText=v||"",M=!0),this.setTokenMatched(h,null,M)}match_EOF(h){let R=!1;return h.isEof&&(h.matchedType=p.TokenType.EOF,R=!0),this.setTokenMatched(h,null,R)}match_FeatureLine(h){if(this.matchedFeatureLine)return this.setTokenMatched(h,null,!1);let R=this.matchTitleLine(c.HEADER,this.dialect.feature,":",h,p.TokenType.FeatureLine);return R||(h.matchedType=p.TokenType.FeatureLine,h.matchedText=h.line.trimmedLineText,R=this.setTokenMatched(h,null,!0)),this.matchedFeatureLine=R,R}match_BackgroundLine(h){return this.matchTitleLine(c.HEADER,this.dialect.background,":",h,p.TokenType.BackgroundLine)}match_RuleLine(h){return this.matchTitleLine(c.HEADER,this.dialect.rule,":",h,p.TokenType.RuleLine)}match_ScenarioLine(h){return this.matchTitleLine(c.HEADER,this.dialect.scenario,":",h,p.TokenType.ScenarioLine)||this.matchTitleLine(c.HEADER,this.dialect.scenarioOutline,":",h,p.TokenType.ScenarioLine)}match_ExamplesLine(h){return this.matchTitleLine(c.HEADER,this.dialect.examples,":",h,p.TokenType.ExamplesLine)}match_StepLine(h){return this.matchTitleLine(c.BULLET,this.nonStarStepKeywords,"",h,p.TokenType.StepLine)}matchTitleLine(h,R,y,v,M){const A=new RegExp(`${h}(${R.map(_).join("|")})${y}(.*)`),U=v.line.match(A);let F=v.line.indent,H=!1;return U&&(v.matchedType=M,v.matchedKeyword=U[2],U[2]in this.keywordTypesMap&&(this.keywordTypesMap[U[2]].length>1?v.matchedKeywordType=o.StepKeywordType.UNKNOWN:v.matchedKeywordType=this.keywordTypesMap[U[2]][0]),v.matchedText=U[3].trim(),F+=U[1].length,H=!0),this.setTokenMatched(v,F,H)}setTokenMatched(h,R,y){return h.matchedGherkinDialect=this.dialectName,h.matchedIndent=R!==null?R:h.line==null?0:h.line.indent,h.location.column=h.matchedIndent+1,y}match_TableRow(h){if(h.line.lineText.match(/^\s\s\s?\s?\s?\|/)){const R=h.line.getTableCells();return this.isGfmTableSeparator(R)?!1:(h.matchedKeyword="|",h.matchedType=p.TokenType.TableRow,h.matchedItems=R,!0)}return!1}isGfmTableSeparator(h){return h.map(y=>y.text).filter(y=>y.match(/^:?-+:?$/)).length>0}match_TagLine(h){const R=[];let y;const v=/`(@[^`]+)`/g;do y=v.exec(h.line.trimmedLineText),y&&R.push({column:h.line.indent+y.index+2,text:y[1]});while(y);return R.length===0?!1:(h.matchedType=p.TokenType.TagLine,h.matchedItems=R,!0)}reset(){this.dialectName!==this.defaultDialectName&&this.changeDialect(this.defaultDialectName),this.activeDocStringSeparator=i}};he.default=l;var c;(function(f){f.BULLET="^(\\s*[*+-]\\s*)",f.HEADER="^(#{1,6}\\s)"})(c||(c={}));function _(f){return f.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}return he}var Pr;function Yt(){if(Pr)return ne;Pr=1;var t=ne&&ne.__createBinding||(Object.create?(function(l,c,_,f){f===void 0&&(f=_);var h=Object.getOwnPropertyDescriptor(c,_);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[_]}}),Object.defineProperty(l,f,h)}):(function(l,c,_,f){f===void 0&&(f=_),l[f]=c[_]})),s=ne&&ne.__setModuleDefault||(Object.create?(function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}):function(l,c){l.default=c}),a=ne&&ne.__importStar||(function(){var l=function(c){return l=Object.getOwnPropertyNames||function(_){var f=[];for(var h in _)Object.prototype.hasOwnProperty.call(_,h)&&(f[f.length]=h);return f},l(c)};return function(c){if(c&&c.__esModule)return c;var _={};if(c!=null)for(var f=l(c),h=0;h<f.length;h++)f[h]!=="default"&&t(_,c,f[h]);return s(_,c),_}})(),u=ne&&ne.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ne,"__esModule",{value:!0}),ne.default=e;const p=u(Be()),m=u(Sr()),o=a(qe()),r=u(br()),T=u(Lr()),d=u(Dr()),i=u(Mr());function e(l,c,_,f){let h;switch(_){case o.SourceMediaType.TEXT_X_CUCUMBER_GHERKIN_PLAIN:h=new m.default(f.defaultDialect);break;case o.SourceMediaType.TEXT_X_CUCUMBER_GHERKIN_MARKDOWN:h=new i.default(f.defaultDialect);break;default:throw new Error(`Unsupported media type: ${_}`)}const R=[];try{if(f.includeSource&&R.push((0,d.default)(l,c)),!f.includeGherkinDocument&&!f.includePickles)return R;const y=new p.default(new T.default(f.newId),h);y.stopAtFirstError=!1;const v=y.parse(l);if(f.includeGherkinDocument&&R.push({gherkinDocument:{...v,uri:c}}),f.includePickles){const M=(0,r.default)(v,c,f.newId);for(const A of M)R.push({pickle:A})}}catch(y){const v=y.errors||[y];for(const M of v){if(!M.location)throw M;R.push({parseError:{source:{uri:c,location:{line:M.location.line,column:M.location.column}},message:M.message}})}}return R}return ne}var Fr;function Qt(){if(Fr)return G;Fr=1;var t=G&&G.__createBinding||(Object.create?(function(f,h,R,y){y===void 0&&(y=R);var v=Object.getOwnPropertyDescriptor(h,R);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[R]}}),Object.defineProperty(f,y,v)}):(function(f,h,R,y){y===void 0&&(y=R),f[y]=h[R]})),s=G&&G.__setModuleDefault||(Object.create?(function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}):function(f,h){f.default=h}),a=G&&G.__importStar||(function(){var f=function(h){return f=Object.getOwnPropertyNames||function(R){var y=[];for(var v in R)Object.prototype.hasOwnProperty.call(R,v)&&(y[y.length]=v);return y},f(h)};return function(h){if(h&&h.__esModule)return h;var R={};if(h!=null)for(var y=f(h),v=0;v<y.length;v++)y[v]!=="default"&&t(R,h,y[v]);return s(R,h),R}})(),u=G&&G.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(G,"__esModule",{value:!0}),G.compile=G.GherkinInMarkdownTokenMatcher=G.GherkinClassicTokenMatcher=G.Errors=G.TokenScanner=G.AstBuilder=G.Parser=G.dialects=G.makeSourceEnvelope=G.generateMessages=void 0;const p=u(Yt());G.generateMessages=p.default;const m=u(Dr());G.makeSourceEnvelope=m.default;const o=u(Be());G.Parser=o.default;const r=u(Lr());G.AstBuilder=r.default;const T=u(er());G.TokenScanner=T.default;const d=a(Le());G.Errors=d;const i=u(br());G.compile=i.default;const e=u(Mi),l=u(Sr());G.GherkinClassicTokenMatcher=l.default;const c=u(Mr());G.GherkinInMarkdownTokenMatcher=c.default;const _=e.default;return G.dialects=_,G}var Fi=Qt();function Vt(){let t=0;return()=>(t++).toString()}fr();var w=function(t,s,a,u){var p=arguments.length,m=p<3?s:u===null?u=Object.getOwnPropertyDescriptor(s,a):u,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(t,s,a,u);else for(var r=t.length-1;r>=0;r--)(o=t[r])&&(m=(p<3?o(m):p>3?o(s,a,m):o(s,a))||m);return p>3&&m&&Object.defineProperty(s,a,m),m};class Ni{constructor(){this.body="",this.contentEncoding=$i.IDENTITY,this.mediaType=""}}w([b(()=>Xr)],Ni.prototype,"source",void 0),w([b(()=>k)],Ni.prototype,"timestamp",void 0);class Nr{constructor(){this.seconds=0,this.nanos=0}}class Z{}w([b(()=>Ni)],Z.prototype,"attachment",void 0),w([b(()=>Ur)],Z.prototype,"externalAttachment",void 0),w([b(()=>Ii)],Z.prototype,"gherkinDocument",void 0),w([b(()=>Hr)],Z.prototype,"hook",void 0),w([b(()=>Pe)],Z.prototype,"meta",void 0),w([b(()=>qr)],Z.prototype,"parameterType",void 0),w([b(()=>$r)],Z.prototype,"parseError",void 0),w([b(()=>_i)],Z.prototype,"pickle",void 0),w([b(()=>Yr)],Z.prototype,"suggestion",void 0),w([b(()=>Xr)],Z.prototype,"source",void 0),w([b(()=>Ki)],Z.prototype,"stepDefinition",void 0),w([b(()=>Qr)],Z.prototype,"testCase",void 0),w([b(()=>et)],Z.prototype,"testCaseFinished",void 0),w([b(()=>it)],Z.prototype,"testCaseStarted",void 0),w([b(()=>Hi)],Z.prototype,"testRunFinished",void 0),w([b(()=>tt)],Z.prototype,"testRunStarted",void 0),w([b(()=>qi)],Z.prototype,"testStepFinished",void 0),w([b(()=>st)],Z.prototype,"testStepStarted",void 0),w([b(()=>rt)],Z.prototype,"testRunHookStarted",void 0),w([b(()=>Gi)],Z.prototype,"testRunHookFinished",void 0),w([b(()=>as)],Z.prototype,"undefinedParameterType",void 0);class Ir{constructor(){this.type=""}}class Ur{constructor(){this.url="",this.mediaType=""}}w([b(()=>k)],Ur.prototype,"timestamp",void 0);class Ii{constructor(){this.comments=[]}}w([b(()=>Ti)],Ii.prototype,"feature",void 0),w([b(()=>jr)],Ii.prototype,"comments",void 0);class gi{constructor(){this.location=new z,this.keyword="",this.name="",this.description="",this.steps=[],this.id=""}}w([b(()=>z)],gi.prototype,"location",void 0),w([b(()=>ze)],gi.prototype,"steps",void 0);class jr{constructor(){this.location=new z,this.text=""}}w([b(()=>z)],jr.prototype,"location",void 0);class Ui{constructor(){this.location=new z,this.rows=[]}}w([b(()=>z)],Ui.prototype,"location",void 0),w([b(()=>We)],Ui.prototype,"rows",void 0);class Br{constructor(){this.location=new z,this.content="",this.delimiter=""}}w([b(()=>z)],Br.prototype,"location",void 0);class $e{constructor(){this.location=new z,this.tags=[],this.keyword="",this.name="",this.description="",this.tableBody=[],this.id=""}}w([b(()=>z)],$e.prototype,"location",void 0),w([b(()=>Je)],$e.prototype,"tags",void 0),w([b(()=>We)],$e.prototype,"tableHeader",void 0),w([b(()=>We)],$e.prototype,"tableBody",void 0);class Ti{constructor(){this.location=new z,this.tags=[],this.language="",this.keyword="",this.name="",this.description="",this.children=[]}}w([b(()=>z)],Ti.prototype,"location",void 0),w([b(()=>Je)],Ti.prototype,"tags",void 0),w([b(()=>yi)],Ti.prototype,"children",void 0);class yi{}w([b(()=>Ei)],yi.prototype,"rule",void 0),w([b(()=>gi)],yi.prototype,"background",void 0),w([b(()=>Me)],yi.prototype,"scenario",void 0);class Ei{constructor(){this.location=new z,this.tags=[],this.keyword="",this.name="",this.description="",this.children=[],this.id=""}}w([b(()=>z)],Ei.prototype,"location",void 0),w([b(()=>Je)],Ei.prototype,"tags",void 0),w([b(()=>ji)],Ei.prototype,"children",void 0);class ji{}w([b(()=>gi)],ji.prototype,"background",void 0),w([b(()=>Me)],ji.prototype,"scenario",void 0);class Me{constructor(){this.location=new z,this.tags=[],this.keyword="",this.name="",this.description="",this.steps=[],this.examples=[],this.id=""}}w([b(()=>z)],Me.prototype,"location",void 0),w([b(()=>Je)],Me.prototype,"tags",void 0),w([b(()=>ze)],Me.prototype,"steps",void 0),w([b(()=>$e)],Me.prototype,"examples",void 0);class ze{constructor(){this.location=new z,this.keyword="",this.text="",this.id=""}}w([b(()=>z)],ze.prototype,"location",void 0),w([b(()=>Br)],ze.prototype,"docString",void 0),w([b(()=>Ui)],ze.prototype,"dataTable",void 0);class Kr{constructor(){this.location=new z,this.value=""}}w([b(()=>z)],Kr.prototype,"location",void 0);class We{constructor(){this.location=new z,this.cells=[],this.id=""}}w([b(()=>z)],We.prototype,"location",void 0),w([b(()=>Kr)],We.prototype,"cells",void 0);class Je{constructor(){this.location=new z,this.name="",this.id=""}}w([b(()=>z)],Je.prototype,"location",void 0);class Hr{constructor(){this.id="",this.sourceReference=new me}}w([b(()=>me)],Hr.prototype,"sourceReference",void 0);class z{constructor(){this.line=0}}class Pe{constructor(){this.protocolVersion="",this.implementation=new Se,this.runtime=new Se,this.os=new Se,this.cpu=new Se}}w([b(()=>Se)],Pe.prototype,"implementation",void 0),w([b(()=>Se)],Pe.prototype,"runtime",void 0),w([b(()=>Se)],Pe.prototype,"os",void 0),w([b(()=>Se)],Pe.prototype,"cpu",void 0),w([b(()=>Gr)],Pe.prototype,"ci",void 0);class Gr{constructor(){this.name=""}}w([b(()=>kt)],Gr.prototype,"git",void 0);class kt{constructor(){this.remote="",this.revision=""}}class Se{constructor(){this.name=""}}class qr{constructor(){this.name="",this.regularExpressions=[],this.preferForRegularExpressionMatch=!1,this.useForSnippets=!1,this.id=""}}w([b(()=>me)],qr.prototype,"sourceReference",void 0);class $r{constructor(){this.source=new me,this.message=""}}w([b(()=>me)],$r.prototype,"source",void 0);class _i{constructor(){this.id="",this.uri="",this.name="",this.language="",this.steps=[],this.tags=[],this.astNodeIds=[]}}w([b(()=>z)],_i.prototype,"location",void 0),w([b(()=>zr)],_i.prototype,"steps",void 0),w([b(()=>is)],_i.prototype,"tags",void 0);class xt{constructor(){this.content=""}}class zr{constructor(){this.astNodeIds=[],this.id="",this.text=""}}w([b(()=>Bi)],zr.prototype,"argument",void 0);class Bi{}w([b(()=>xt)],Bi.prototype,"docString",void 0),w([b(()=>Wr)],Bi.prototype,"dataTable",void 0);class Wr{constructor(){this.rows=[]}}w([b(()=>Jr)],Wr.prototype,"rows",void 0);class es{constructor(){this.value=""}}class Jr{constructor(){this.cells=[]}}w([b(()=>es)],Jr.prototype,"cells",void 0);class is{constructor(){this.name="",this.astNodeId=""}}class Xr{constructor(){this.uri="",this.data="",this.mediaType=zi.TEXT_X_CUCUMBER_GHERKIN_PLAIN}}class me{}w([b(()=>rs)],me.prototype,"javaMethod",void 0),w([b(()=>ts)],me.prototype,"javaStackTraceElement",void 0),w([b(()=>z)],me.prototype,"location",void 0);class rs{constructor(){this.className="",this.methodName="",this.methodParameterTypes=[]}}class ts{constructor(){this.className="",this.fileName="",this.methodName=""}}class Ki{constructor(){this.id="",this.pattern=new Zr,this.sourceReference=new me}}w([b(()=>Zr)],Ki.prototype,"pattern",void 0),w([b(()=>me)],Ki.prototype,"sourceReference",void 0);class Zr{constructor(){this.source="",this.type=Wi.CUCUMBER_EXPRESSION}}class Yr{constructor(){this.id="",this.pickleStepId="",this.snippets=[]}}w([b(()=>ss)],Yr.prototype,"snippets",void 0);class ss{constructor(){this.language="",this.code=""}}class Qr{constructor(){this.id="",this.pickleId="",this.testSteps=[]}}w([b(()=>xr)],Qr.prototype,"testSteps",void 0);class Si{}w([b(()=>Si)],Si.prototype,"children",void 0);class Vr{constructor(){this.group=new Si}}w([b(()=>Si)],Vr.prototype,"group",void 0);class kr{constructor(){this.stepMatchArguments=[]}}w([b(()=>Vr)],kr.prototype,"stepMatchArguments",void 0);class xr{constructor(){this.id=""}}w([b(()=>kr)],xr.prototype,"stepMatchArgumentsLists",void 0);class et{constructor(){this.testCaseStartedId="",this.timestamp=new k,this.willBeRetried=!1}}w([b(()=>k)],et.prototype,"timestamp",void 0);class it{constructor(){this.attempt=0,this.id="",this.testCaseId="",this.timestamp=new k}}w([b(()=>k)],it.prototype,"timestamp",void 0);class Hi{constructor(){this.success=!1,this.timestamp=new k}}w([b(()=>k)],Hi.prototype,"timestamp",void 0),w([b(()=>Ir)],Hi.prototype,"exception",void 0);class Gi{constructor(){this.testRunHookStartedId="",this.result=new Fe,this.timestamp=new k}}w([b(()=>Fe)],Gi.prototype,"result",void 0),w([b(()=>k)],Gi.prototype,"timestamp",void 0);class rt{constructor(){this.id="",this.testRunStartedId="",this.hookId="",this.timestamp=new k}}w([b(()=>k)],rt.prototype,"timestamp",void 0);class tt{constructor(){this.timestamp=new k}}w([b(()=>k)],tt.prototype,"timestamp",void 0);class qi{constructor(){this.testCaseStartedId="",this.testStepId="",this.testStepResult=new Fe,this.timestamp=new k}}w([b(()=>Fe)],qi.prototype,"testStepResult",void 0),w([b(()=>k)],qi.prototype,"timestamp",void 0);class Fe{constructor(){this.duration=new Nr,this.status=Ji.UNKNOWN}}w([b(()=>Nr)],Fe.prototype,"duration",void 0),w([b(()=>Ir)],Fe.prototype,"exception",void 0);class st{constructor(){this.testCaseStartedId="",this.testStepId="",this.timestamp=new k}}w([b(()=>k)],st.prototype,"timestamp",void 0);class k{constructor(){this.seconds=0,this.nanos=0}}class as{constructor(){this.expression="",this.name=""}}var $i;(function(t){t.IDENTITY="IDENTITY",t.BASE64="BASE64"})($i||($i={}));var at;(function(t){t.BEFORE_TEST_RUN="BEFORE_TEST_RUN",t.AFTER_TEST_RUN="AFTER_TEST_RUN",t.BEFORE_TEST_CASE="BEFORE_TEST_CASE",t.AFTER_TEST_CASE="AFTER_TEST_CASE",t.BEFORE_TEST_STEP="BEFORE_TEST_STEP",t.AFTER_TEST_STEP="AFTER_TEST_STEP"})(at||(at={}));var nt;(function(t){t.UNKNOWN="Unknown",t.CONTEXT="Context",t.ACTION="Action",t.OUTCOME="Outcome"})(nt||(nt={}));var zi;(function(t){t.TEXT_X_CUCUMBER_GHERKIN_PLAIN="text/x.cucumber.gherkin+plain",t.TEXT_X_CUCUMBER_GHERKIN_MARKDOWN="text/x.cucumber.gherkin+markdown"})(zi||(zi={}));var Wi;(function(t){t.CUCUMBER_EXPRESSION="CUCUMBER_EXPRESSION",t.REGULAR_EXPRESSION="REGULAR_EXPRESSION"})(Wi||(Wi={}));var ut;(function(t){t.UNKNOWN="Unknown",t.CONTEXT="Context",t.ACTION="Action",t.OUTCOME="Outcome",t.CONJUNCTION="Conjunction"})(ut||(ut={}));var Ji;(function(t){t.UNKNOWN="UNKNOWN",t.PASSED="PASSED",t.SKIPPED="SKIPPED",t.PENDING="PENDING",t.UNDEFINED="UNDEFINED",t.AMBIGUOUS="AMBIGUOUS",t.FAILED="FAILED"})(Ji||(Ji={}));function lt(t){const s={keyword:t.keyword.trim(),text:t.text,line:t.location.line};return t.docString&&(s.docString=t.docString.content),t.dataTable&&(s.dataTable=t.dataTable.rows.map(a=>a.cells.map(u=>u.value))),s}function ht(t){return{name:t.name,steps:t.steps.map(lt),line:t.location.line}}function ns(t){return{name:t.name,tags:t.tags.map(s=>s.name),tableHeader:t.tableHeader?t.tableHeader.cells.map(s=>s.value):[],tableBody:t.tableBody.map(s=>s.cells.map(a=>a.value)),line:t.location.line}}function ot(t){const s={name:t.name,tags:t.tags.map(a=>a.name),steps:t.steps.map(lt),line:t.location.line};return t.examples.length>0&&(s.examples=t.examples.map(ns)),s}function dt(t){try{const s=Vt(),a=new Fi.AstBuilder(s),u=new Fi.GherkinClassicTokenMatcher,m=new Fi.Parser(a,u).parse(t);if(!m.feature)return{ok:!1,errors:[{message:"No feature found in document",line:1,column:1}]};const o=m.feature;let r;const T=[];for(const i of o.children)if(i.background&&(r=ht(i.background)),i.scenario&&T.push(ot(i.scenario)),i.rule)for(const e of i.rule.children)e.background&&(r=ht(e.background)),e.scenario&&T.push(ot(e.scenario));const d={name:o.name,description:o.description,tags:o.tags.map(i=>i.name),scenarios:T,line:o.location.line};return r&&(d.background=r),{ok:!0,feature:d}}catch(s){const a=s instanceof Error?s.message:String(s),u=a.match(/\((\d+):(\d+)\)/),p=u?parseInt(u[1],10):1,m=u?parseInt(u[2],10):1;return{ok:!1,errors:[{message:a,line:p,column:m}]}}}function us(t,s){for(const a of s.getAll()){const p=a.pattern.exec(t);if(p){const m=p.slice(1),o={};return p.groups&&Object.assign(o,p.groups),{found:!0,definition:a,match:{params:o,groups:m}}}}return{found:!1}}function ls(t){return{variables:{},url:"",method:"GET",headers:{},params:{},requestBody:void 0,response:null,prints:[],signal:t}}async function hs(t,s,a,u){const p=performance.now(),m=[];let o="passed";for(let d=0;d<t.scenarios.length;d++){const i=t.scenarios[d];if(a.aborted){m.push(cs(i)),o="skipped";continue}if(i.examples&&i.examples.length>0)for(const e of i.examples)for(const l of e.tableBody){const c=ds(i.steps,e.tableHeader,l),_={...i,name:`${i.name} (${l.join(", ")})`,steps:c},f=await ct(_,t.background?.steps??[],s,a,d,u);m.push(f),f.status==="failed"&&(o="failed")}else{const e=await ct(i,t.background?.steps??[],s,a,d,u);m.push(e),e.status==="failed"&&(o="failed")}}const r=performance.now()-p,T={total:m.reduce((d,i)=>d+i.stepResults.length,0),passed:m.reduce((d,i)=>d+i.stepResults.filter(e=>e.status==="passed").length,0),failed:m.reduce((d,i)=>d+i.stepResults.filter(e=>e.status==="failed").length,0),skipped:m.reduce((d,i)=>d+i.stepResults.filter(e=>e.status==="skipped").length,0)};return{name:t.name,scenarioResults:m,status:o,duration:r,stats:T}}async function ct(t,s,a,u,p,m){const o=performance.now(),r=ls(u),T=[];let d=!1;const i=[...s,...t.steps];for(const c of i){if(u.aborted||d){const f={step:c,status:"skipped",duration:0};T.push(f),m?.(f,p);continue}const _=await os(c,r,a);T.push(_),m?.(_,p),_.status==="failed"&&(d=!0)}const e=performance.now()-o,l=d?"failed":u.aborted?"skipped":"passed";return{name:t.name,stepResults:T,status:l,duration:e}}async function os(t,s,a){const u=performance.now(),p=us(t.text,a);if(!p.found)return{step:t,status:"failed",error:`No matching step definition for: "${t.text}"`,duration:performance.now()-u};try{await p.definition.handler(s,p.match,t.docString,t.dataTable);const m={step:t,status:"passed",duration:performance.now()-u};return s.prints.length>0&&(m.printOutput=s.prints.join(`
`),s.prints=[]),s.response&&(m.response=s.response),m}catch(m){return{step:t,status:"failed",error:m instanceof Error?m.message:String(m),duration:performance.now()-u}}}function ds(t,s,a){return t.map(u=>{let p=u.text,m=u.docString;for(let o=0;o<s.length;o++){const r=`<${s[o]}>`,T=a[o]??"";p=p.replaceAll(r,T),m&&(m=m.replaceAll(r,T))}return{...u,text:p,docString:m}})}function cs(t){return{name:t.name,stepResults:t.steps.map(s=>({step:s,status:"skipped",duration:0})),status:"skipped",duration:0}}class fs{definitions=[];register(s){this.definitions.push(s)}registerAll(s){this.definitions.push(...s)}getAll(){return this.definitions}clear(){this.definitions=[]}get size(){return this.definitions.length}}class ps{plugins=new Map;registry;constructor(s){this.registry=s}async loadPlugin(s){if(this.plugins.has(s.id))throw new Error(`Plugin "${s.id}" is already loaded`);s.initialize&&await s.initialize();const a=s.getStepDefinitions();this.registry.registerAll(a),this.plugins.set(s.id,s),console.log(`[Gherkin] Plugin loaded: ${s.name} (${a.length} steps)`)}async unloadPlugin(s){const a=this.plugins.get(s);a&&(a.destroy&&await a.destroy(),this.plugins.delete(s))}async beforeScenario(){for(const s of this.plugins.values())s.beforeScenario&&await s.beforeScenario()}async afterScenario(){for(const s of this.plugins.values())s.afterScenario&&await s.afterScenario()}getLoadedPlugins(){return Array.from(this.plugins.keys())}async destroy(){for(const[s]of this.plugins)await this.unloadPlugin(s)}}function Xe(t,s){return t.replace(/#\{([^}]+)\}/g,(a,u)=>{const p=ms(s.variables,u.trim());return p!==void 0?String(p):`#{${u}}`})}function ms(t,s){const a=s.split(".");let u=t;for(const p of a){if(u==null||typeof u!="object")return;u=u[p]}return u}function Xi(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t}async function Rs(t){let s=t.url;if(Object.keys(t.params).length>0){const d=new URLSearchParams(t.params),i=s.includes("?")?"&":"?";s=`${s}${i}${d.toString()}`}const a={method:t.method,headers:t.headers,signal:t.signal};t.requestBody!==void 0&&t.method!=="GET"&&t.method!=="HEAD"&&(a.body=typeof t.requestBody=="string"?t.requestBody:JSON.stringify(t.requestBody),!t.headers["Content-Type"]&&!t.headers["content-type"]&&(t.headers["Content-Type"]="application/json"));const u=performance.now(),p=await fetch(s,a),m=performance.now()-u,o={};p.headers.forEach((d,i)=>{o[i]=d});let r;(p.headers.get("content-type")??"").includes("application/json")?r=await p.json():r=await p.text(),t.response={status:p.status,statusText:p.statusText,headers:o,body:r,responseTime:m}}function gs(){return[{pattern:/^url\s+(.+)$/,handler:async(t,s)=>{t.url=Xe(Xi(s.groups[0]),t)},description:"Set the base URL for the HTTP request"},{pattern:/^method\s+(GET|POST|PUT|DELETE|PATCH|HEAD|OPTIONS)$/i,handler:async(t,s)=>{t.method=s.groups[0].toUpperCase(),await Rs(t)},description:"Execute HTTP request with specified method"},{pattern:/^header\s+(.+?)\s*=\s*(.+)$/,handler:async(t,s)=>{const a=s.groups[0].trim(),u=Xe(Xi(s.groups[1].trim()),t);t.headers[a]=u},description:"Set a request header"},{pattern:/^param\s+(.+?)\s*=\s*(.+)$/,handler:async(t,s)=>{const a=s.groups[0].trim(),u=Xe(Xi(s.groups[1].trim()),t);t.params[a]=u},description:"Set a query parameter"},{pattern:/^request\s+(.+)$/,handler:async(t,s)=>{const a=Xe(s.groups[0],t);try{t.requestBody=JSON.parse(a)}catch{t.requestBody=a}},description:"Set request body (inline)"},{pattern:/^request$/,handler:async(t,s,a)=>{if(!a)throw new Error("'request' step requires a doc string body");const u=Xe(a,t);try{t.requestBody=JSON.parse(u)}catch{t.requestBody=u}},description:"Set request body (doc string)"},{pattern:/^status\s+(\d+)$/,handler:async(t,s)=>{const a=parseInt(s.groups[0],10);if(!t.response)throw new Error("No response available. Did you execute a request with 'method'?");if(t.response.status!==a)throw new Error(`Expected status ${a} but got ${t.response.status}`)},description:"Assert response status code"}]}function Zi(t,s){if(s==="response")return t.response?.body;if(s.startsWith("response.")){const u=s.slice(9);return ft(t.response?.body,u)}if(s in t.variables)return t.variables[s];const a=s.indexOf(".");if(a>0){const u=s.slice(0,a),p=s.slice(a+1);if(u in t.variables)return ft(t.variables[u],p)}}function ft(t,s){const a=s.split(".");let u=t;for(const p of a){if(u==null||typeof u!="object")return;const m=p.match(/^(\w+)\[(\d+)\]$/);if(m)if(u=u[m[1]],Array.isArray(u))u=u[parseInt(m[2],10)];else return;else u=u[p]}return u}function Ts(t,s){switch(s){case"#number":return typeof t=="number";case"#string":return typeof t=="string";case"#boolean":return typeof t=="boolean";case"#null":return t===null;case"#notnull":return t!=null;case"#present":return t!==void 0;case"#array":return Array.isArray(t);default:return!1}}function pt(t){const s=t.trim();if(s.startsWith("#"))return s;try{return JSON.parse(s)}catch{const a=s.replace(/'/g,'"').replace(/(\w+)\s*:/g,'"$1":');try{return JSON.parse(a)}catch{return s}}}function Ze(t,s,a){if(typeof s=="string"&&s.startsWith("#"))return Ts(t,s)?null:`Expected type ${s} but got ${typeof t} (${JSON.stringify(t)})`;if(s!==null&&typeof s=="object"&&!Array.isArray(s)){if(t===null||typeof t!="object"||Array.isArray(t))return`Expected object but got ${JSON.stringify(t)}`;const u=s,p=t;for(const m of Object.keys(u)){if(!(m in p)&&!a)return`Missing key "${m}" in response`;const o=Ze(p[m],u[m],a);if(o)return`At "${m}": ${o}`}if(!a){for(const m of Object.keys(p))if(!(m in u))return`Unexpected key "${m}" in response`}return null}if(Array.isArray(s)){if(!Array.isArray(t))return`Expected array but got ${typeof t}`;if(a){for(let u=0;u<s.length;u++)if(!t.some(m=>Ze(m,s[u],!1)===null))return`Array does not contain expected element at index ${u}: ${JSON.stringify(s[u])}`}else{if(t.length!==s.length)return`Expected array of length ${s.length} but got ${t.length}`;for(let u=0;u<s.length;u++){const p=Ze(t[u],s[u],!1);if(p)return`At index [${u}]: ${p}`}}return null}return t!==s?`Expected ${JSON.stringify(s)} but got ${JSON.stringify(t)}`:null}function ys(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t}function Es(){return[{pattern:/^match\s+(.+?)\s*==\s*(.+)$/,handler:async(t,s)=>{const a=s.groups[0].trim(),u=s.groups[1].trim(),p=Zi(t,a),m=pt(ys(u)),o=Ze(p,m,!1);if(o)throw new Error(o)},description:"Assert exact equality"},{pattern:/^match\s+(.+?)\s+contains\s+(.+)$/,handler:async(t,s)=>{const a=s.groups[0].trim(),u=s.groups[1].trim(),p=Zi(t,a),m=pt(u),o=Ze(p,m,!0);if(o)throw new Error(o)},description:"Assert partial match (contains)"},{pattern:/^match\s+(.+?)\s*!=\s*null$/,handler:async(t,s)=>{const a=s.groups[0].trim(),u=Zi(t,a);if(u==null)throw new Error(`Expected "${a}" to not be null but it was ${JSON.stringify(u)}`)},description:"Assert value is not null"}]}function mt(t,s){const a=s.trim();if(a==="response")return t.response?.body;if(a.startsWith("response."))return Rt(t.response?.body,a.slice(9));if(a in t.variables)return t.variables[a];const u=a.indexOf(".");if(u>0){const p=a.slice(0,u),m=a.slice(u+1);if(p in t.variables)return Rt(t.variables[p],m)}try{return JSON.parse(a)}catch{return a.startsWith("'")&&a.endsWith("'")||a.startsWith('"')&&a.endsWith('"')?a.slice(1,-1):a}}function Rt(t,s){const a=s.split(".");let u=t;for(const p of a){if(u==null||typeof u!="object")return;const m=p.match(/^(\w+)\[(\d+)\]$/);if(m)if(u=u[m[1]],Array.isArray(u))u=u[parseInt(m[2],10)];else return;else u=u[p]}return u}function _s(){return[{pattern:/^def\s+(\w+)\s*=\s*(.+)$/,handler:async(t,s)=>{const a=s.groups[0],u=s.groups[1];t.variables[a]=mt(t,u)},description:"Define a variable from an expression"},{pattern:/^print\s+(.+)$/,handler:async(t,s)=>{const a=s.groups[0],u=mt(t,a),p=typeof u=="object"?JSON.stringify(u,null,2):String(u);t.prints.push(p),console.log("[Gherkin print]",p)},description:"Print a value to output"}]}class Ss{id="built-in-http";name="HTTP Steps (Built-in)";getStepDefinitions(){return[...gs(),...Es(),..._s()]}}class vs{registry;pluginManager;abortController=null;initialized=!1;constructor(){this.registry=new fs,this.pluginManager=new ps(this.registry)}async initialize(){this.initialized||(await this.pluginManager.loadPlugin(new Ss),this.initialized=!0,console.log(`[Gherkin Engine] Initialized with ${this.registry.size} step definitions`))}listen(){chrome.runtime.onConnect.addListener(s=>{s.name==="gherkin-runner"&&(console.log("[Gherkin IPC] Client connected"),s.onMessage.addListener(async a=>{await this.handleMessage(a,s)}),s.onDisconnect.addListener(()=>{this.cancelExecution(),console.log("[Gherkin IPC] Client disconnected")}))})}async handleMessage(s,a){const u=p=>{try{a.postMessage(p)}catch{}};switch(s.type){case"parse":this.handleParse(s.source,u);break;case"execute":await this.handleExecute(s.source,u);break;case"cancel":this.cancelExecution(),u({type:"execute:cancelled"});break}}handleParse(s,a){const u=dt(s);u.ok?a({type:"parse:success",featureName:u.feature.name,scenarioCount:u.feature.scenarios.length}):a({type:"parse:error",errors:u.errors})}async handleExecute(s,a){await this.initialize();const u=dt(s);if(!u.ok){a({type:"parse:error",errors:u.errors});return}this.abortController=new AbortController;const{signal:p}=this.abortController;a({type:"execute:start",featureName:u.feature.name});try{const m=await hs(u.feature,this.registry,p,(o,r)=>{a({type:"execute:step",result:o,scenarioIndex:r})});p.aborted?a({type:"execute:cancelled"}):a({type:"execute:done",result:m})}catch(m){const o=m instanceof Error?m.message:String(m);a({type:"execute:error",error:o})}finally{this.abortController=null}}cancelExecution(){this.abortController&&(this.abortController.abort(),this.abortController=null)}}const bs=Tt(()=>{yt.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}),new vs().listen(),console.log("[Gherkin BDD] Background service worker initialized")});function za(){}function vi(t,...s){}const ws={debug:(...t)=>vi(console.debug,...t),log:(...t)=>vi(console.log,...t),warn:(...t)=>vi(console.warn,...t),error:(...t)=>vi(console.error,...t)};let Yi;try{Yi=bs.main(),Yi instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(t){throw ws.error("The background crashed on startup!"),t}var Os=Yi;return Os})();
